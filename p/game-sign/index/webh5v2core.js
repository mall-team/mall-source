(function(){function d(){}function b(c,b){if(b)return"'"+c.split("'").join("\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var d=c.charAt(0),f=c.substring(1);return"\x3d"===d?"+("+f+")+":":"===d?"+e("+f+")+":";"+c+";o+\x3d"}var e=window.hfive=window.hfive||{},g=function(){var c;if(window.Zepto)c=window.Zepto,c.fn.prop=c.fn.attr,Event.prototype.isDefaultPrevented=function(){return this.defaultPrevented};else if(window.jQuery)c=window.jQuery;else throw"Either Zepto or jQuery is required but neither can be found.";
return c}(),k=Math,h={},f={},c={};d.extend=function(c){var b=function(){},d,f=this,h=c&&c.init?c.init:function(){f.apply(this,arguments)},e;b.prototype=f.prototype;e=h.fn=h.prototype=g.extend(new b,c);for(d in e)"object"===typeof e[d]&&(e[d]=g.extend({},b.prototype[d],c[d]));e.constructor=h;h.extend=f.extend;return h};var l=d.extend({init:function(){this._events={}},bind:function(c,b,d){var f=this,h,e=g.isArray(c)?c:[c],k,n,A,E;h=0;for(k=e.length;h<k;h++)if(c=e[h],n=g.isFunction(b)?b:b[c])d&&(A=n,
n=function(){f.unbind(c,n);A.call(f,arguments)}),E=f._events[c]||[],E.push(n),f._events[c]=E;return f},one:function(c,b){return this.bind(c,b,!0)},trigger:function(c,b){var d=this._events[c],f=!1,h=g.extend(b,{preventDefault:function(){f=!0},isDefaultPrevented:function(){return f}}),e,k;if(d)for(e=0,k=d.length;e<k;e++)d[e].call(this,h);return f},unbind:function(c,b){var d=this._events[c],f,h;if(d)if(b)for(f=0,h=d.length;f<h;f++)d[f]===b&&d.splice(f,1);else this._events[c]=[];return this}}),G=/^\w+/,
p=/\${([^}]*)}/g,t=/\\}/g,s=/__CURLY__/g,m=/\\#/g,v=/__SHARP__/g;Template={paramName:"data",useWithBlock:!0,render:function(c,b){var d,f,h="";d=0;for(f=b.length;d<f;d++)h+=c(b[d]);return h},compile:function(c,d){var f=g.extend({},this,d),h=f.paramName,e=h.match(G)[0],f=f.useWithBlock,k="var o,e\x3dhfive.htmlEncode;",l;if(g.isFunction(c))return 2===c.length?function(n){return c(g,{data:n}).join("")}:c;k=k+(f?"with("+h+"){":"")+"o\x3d";h=c.replace(t,"__CURLY__").replace(p,"#\x3de($1)#").replace(s,"}").replace(m,
"__SHARP__").split("#");for(l=0;l<h.length;l++)k+=b(h[l],0===l%2);k+=f?";}":";";k+="return o;";k=k.replace(v,"#");try{return new Function(e,k)}catch(n){throw Error("Invalid template");}}};var w=l.extend({init:function(c,b){this.element=g(c);l.fn.init.call(this);this.options=g.extend({},this.options,b);this.element.attr(e.attr("role"))||this.element.attr(e.attr("role"),(this.options.name||"").toLowerCase())}});c.mobileOS=function(c){var b=!1,d=[],f={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android)\s+(\d+)\.(\d+(\.\d+)?)/,
iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|PlayBook).*?Version\/(\d+)\.(\d+(\.\d+)?)/},h={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i},e;for(e in f)if(f.hasOwnProperty(e)&&(d=c.match(f[e]))){b={};b.device=e;f=b;a:{var k=void 0;for(k in h)if(h.hasOwnProperty(k)&&h[k].test(e)){h=k;break a}h=e}f.name=h;b[b.name]=!0;b.majorVersion=d[2];b.minorVersion=
d[3].replace("_",".");b.flatVersion=b.majorVersion+b.minorVersion.replace(".","");b.flatVersion+=Array(4-b.flatVersion.length).join("0");b.appMode=window.navigator.standalone||"undefined"!==typeof window._nativeReady;break}c=c.match(/(MicroMessenger)\/(\d+)\.(\d+(\.\d+)?)/);b.isMicroMessenger=!1;c&&(b.isMicroMessenger=!0,b.mmMajorVersion=c[2],b.mmMinorVersion=c[3].replace("_","."));return b}(navigator.userAgent);c.animationEvents="undefined"!=typeof window.WebKitAnimationEvent;c.touch="ontouchstart"in
window;c.ios5=c.mobileOS.ios&&410<=c.mobileOS.flatVersion;c.animationEnd="webkit moz o ms khtml ".split(" ").join("AnimationEnd ")+"animationEnd";c.touch?(c.mousedown="touchstart",c.mouseup="touchend",c.mousemove="touchmove",c.mousecancel="touchcancel"):(c.mousemove="mousemove",c.mousedown="mousedown",c.mouseup="mouseup",c.mousecancel="mouseleave");commonDictionarySplit=function(c,b,d){"undefined"==typeof b&&(b="\x26");"undefined"==typeof d&&(d="");var f=RegExp("^"+d+"|"+d+"$","g");if("string"==typeof c){c=
c.split(d+b);d={};for(var h=0,e=c.length;h<e;h++)b=c[h].split("\x3d"),1<b.length?d[b[0]]=b.slice(1).join("\x3d").replace(f,""):d[c[h]]=!0;return d}return{}};splitHttpParamString=function(c){return commonDictionarySplit(c,"\x26")};getHashes=function(){return splitHttpParamString(location.hash.substr(1))};var u=/template$/i,B=/^\s*(?:\{(?:.|\n)*\}|\[(?:.|\n)*\])\s*$/,x=/^\{(\d+)(:[^\}]+)?\}/,q=/([A-Z])/g;g.extend(e,{$:g,ui:{},support:c,ns:"",Observable:l,Class:d,noop:function(){},htmlEncode:function(c){return(""+
c).replace(ampRegExp,"\x26amp;").replace(ltRegExp,"\x26lt;").replace(gtRegExp,"\x26gt;")},Template:Template,template:g.proxy(Template.compile,Template),render:g.proxy(Template.render,Template),parseOptions:function(c,b){var d={},f,h;for(f in b){h=c;var k=f,l=void 0;0===k.indexOf("data")&&(k=k.substring(4),k=k.charAt(0).toLowerCase()+k.substring(1));k=k.replace(q,"-$1");l=h.getAttribute("data-"+e.ns+k);null===l?l=void 0:"null"===l?l=null:"true"===l?l=!0:"false"===l?l=!1:isNaN(parseFloat(l))?B.test(l)&&
!x.test(l)&&(l=g.parseJSON(l)):l=parseFloat(l);h=l;void 0!==h&&(u.test(f)&&(h=e.template(g("#"+h).html())),d[f]=h)}return d},attr:function(c){return"data-"+e.ns+c},parseJson:function(c){return null===c?null:JSON.parse(c)},splitHttpParamString:splitHttpParamString,commonDictionarySplit:commonDictionarySplit,getHashes:getHashes,guid:function(){var c="",b,d;for(b=0;32>b;b++){d=16*k.random()|0;if(8==b||12==b||16==b||20==b)c+="-";c+=(12==b?4:16==b?d&3|8:d).toString(16)}return c},expr:function(c,b){(c=
c||"")&&"["!==c.charAt(0)&&(c="."+c);if(b){var d=c.split("."),f="d",h,e,k,n,A=1;e=0;for(k=d.length;e<k;e++)n=d[e],""!==n&&(h=n.indexOf("["),0!==h&&(-1==h?n="."+n:(A++,n="."+n.substring(0,h)+" || {})"+n.substring(h))),A++,f+=n+(e<k-1?" || {})":")"));c=Array(A).join("(")+f}else c="d"+c;return c},getter:function(c,b){return h[c]=h[c]||new Function("d","return "+e.expr(c,b))},setter:function(c){return f[c]=f[c]||new Function("d,value","d."+c+"\x3dvalue")}});e.cookie=function(c,b,d){if("undefined"!=typeof b){d=
d||{};null===b&&(b="",d=g.extend({},d),d.expires=-1);var f="";d.expires&&("number"==typeof d.expires||d.expires.toUTCString)&&("number"==typeof d.expires?(f=new Date,f.setTime(f.getTime()+864E5*d.expires)):f=d.expires,f="; expires\x3d"+f.toUTCString());var h=d.path?"; path\x3d"+d.path:"",e=d.domain?"; domain\x3d"+d.domain:"";d=d.secure?"; secure":"";document.cookie=[c,"\x3d",encodeURIComponent(b),f,h,e,d].join("")}else{b=null;if(document.cookie&&""!=document.cookie)for(d=document.cookie.split(";"),
f=0;f<d.length;f++)if(h=g.trim(d[f]),h.substring(0,c.length+1)==c+"\x3d"){b=decodeURIComponent(h.substring(c.length+1));break}return b}};e.urlQuery=function(){var c=function(c){var b=this;b.keys={};g.each(arguments,function(){var c;c=(""+this).replace(/^[?#]/,"");c=c.replace(/[;&]$/,"");g.each(c.split(/[&;]/),function(){var c=decodeURIComponent(this.split("\x3d")[0]||""),d=decodeURIComponent(this.split("\x3d")[1]||"");c&&b.SET(c,d)})});return b};c.prototype={queryObject:!0,get:function(c){return this.keys[c]},
SET:function(c,b){this.keys[c]=b;return this}};return new c(location.search,location.hash)};e.queue=function(){var c=function(){var c=this;interval=setInterval(function(){if(0<c.Queue.length&&!a.stop){var b=c.Queue.shift();b.fn(b.argument);b.callBack&&b.callBack()}else clearInterval(interval)},this.setTimeout)};return{Queue:[],syncQueue:[],setTimeout:500,add:function(c,b,d){this.Queue.push({fn:c,argument:b,callBack:d});return this},addSync:function(c,b,d){return this.syncQueue.push({fn:c,argument:b,
callBack:d}),this},clear:function(){return this.Queue=[],this},stop:!1,start:function(){return this.stop=!1,0<this.setTimeout&&c.apply(this),this},shift:function(){},dequeue:function(){var c=this.syncQueue.shift();c&&(c.fn(c.argument),c.callBack&&c.callBack())}}}();e.localStorage=function(){var c=["h5app"];return{setItem:function(b,d,f){-1!=g.inArray(b,c)&&localStorage.setItem(b+"_"+d,f)},getItem:function(b,d){return-1!=g.inArray(b,c)?localStorage.getItem(b+"_"+d):null},removeItem:function(b,d){return-1!=
g.inArray(b,c)?localStorage.removeItem(b+"_"+d):null}}}();e.linkfocus=function(){function c(n){n.removeEventListener("touchend",f,!1);n.removeEventListener("touchmove",d,!1)}function b(c){this.addEventListener("touchend",f,!1);this.addEventListener("touchmove",d,!1)}function d(n){c(this)}function f(n){var b=this;b.className+=" c-linkfocus-active";setTimeout(function(){b.className=b.className.replace(" c-linkfocus-active","");c(b)},200)}var h=navigator.appVersion,e=/webkit/gi,k=/android/gi;return function(c){if(e.test(h)&&
k.test(h)){var d=document.styleSheets[0];d.addRule("*","-webkit-tap-highlight-color:rgba(0,0,0,0);");if(!1!==c)if(d.addRule(".c-linkfocus","-webkit-mask:none;"),d.addRule(".c-linkfocus-move","-webkit-mask:none;"),d.addRule(".c-linkfocus-active","background:transparent!important;background-color:transparent!important;-webkit-mask-clip: content-box;-webkit-mask-origin: content;-webkit-mask-repeat: no-repeat;-webkit-border-radius: 3px;-webkit-mask-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(0,0,0,0.3)), to(rgba(0,0,0,0.3)));"),
"string"==typeof c)g(document).on("touchstart",c||'*[class~\x3d"c-linkfocus"]',b);else if("object"==typeof c)g(c).on("touchstart",b)}}}();var c=d.extend({init:function(c){var b=this;this.settings=g.extend({messages:{},groups:{},rules:{},errorClass:"error",ignore:":hidden",debug:!1},c);this.settings.debug&&!this.settings.cntr&&window.console&&console.log("No cntr property found. ");this.form=this.settings.cntr;this.errors=[];this.elements().each(function(){g(this).on("focusin",function(c){g(c.target).removeClass(b.settings.errorClass)})})},
validate:function(){var c=this;this.errors=[];this.elements().each(function(){c.check(this)});this.showErrors(this.errors);return 0==this.errors.length},check:function(c){var b=this.elementRules(c.name),d;for(d in b){var f={method:d,parameters:b[d]};try{if(!this.methods[d].call(this,c.value.replace(/\r/g,""),c,f.parameters))return this.formatAndAdd(c,f),!1}catch(h){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+f.method+"' method",
h),h;}}return!0},elementRules:function(c){return this.settings.rules[c]},elements:function(){var c=this,b={};return g(this.form).find("input, select, textarea").filter(function(){!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this);return this.name in b||!c.elementRules(this.name)?!1:b[this.name]=!0})},formatAndAdd:function(c,b){var d="",f=this.settings.messages[c.name];f&&f[b.method]&&(d=f[b.method]);this.errors.push({message:d,element:c,rule:b})},showErrors:function(c){if(c){this.settings.showErrors?
this.settings.showErrors.call(this,this.errors):this.defaultShowErrors(c);var b="",d;for(d in c)c[d].message&&(b+=c[d].message+"\x3cbr/\x3e");""!=b&&e.ui.showWindow("\x3cspan\x3e"+b+"\x3c/span\x3e",{title:"",width:280,height:48,modal:!0,actions:[{name:"\u5173\u95ed",callback:function(){e.ui.hideWindow()}}]})}},defaultShowErrors:function(){for(var c in this.errors)g(this.errors[c].element).addClass(this.settings.errorClass)},checkable:function(c){return/radio|checkbox/i.test(c.type)},findByName:function(c){return g("[name\x3d"+
c+"]",this.form)},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case "select":return g("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return c.length},methods:{required:function(c,b,d){switch(b.nodeName.toLowerCase()){case "select":return(c=g(b).val())&&0<c.length;case "input":if(this.checkable(b))return 0<this.getLength(c,b);default:return 0<g.trim(c).length}}}}),z={};g.extend(e.ui,{Validator:c,progress:function(c,
b,d){var f=c.find(".h5-loading-mask");b?f.length||g("\x3cdiv class\x3d'h5-loading-mask "+(d?d:"")+"'\x3e\x3cimg src\x3d'/css/image/loading.gif'/\x3e\x3cdiv\x3e\u6b63\u5728\u52a0\u8f7d....\x3c/div\x3e\x3c/div\x3e").width("100%").height("100%").prependTo(c):f&&f.remove()},showToast:function(c,b){/^[0-9]*[1-9][0-9]*$/.test(b)||(b=1E3);var d=g("div.h5-toast");0>=d.length&&(d=g("\x3cdiv class\x3d'h5-toast' flag\x3d0\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e").appendTo(g("body")));if(!0!=d.attr("flag")){d.attr("flag",
1);g("p",d).text(c);d.animate({display:"block",opacity:1},200,"ease-in");var f=setInterval(function(){d.animate({opacity:0},200,"ease-in",function(){d.hide();d.attr("flag",0)});clearInterval(f)},b)}},showTips:function(c,b,d,f){var h=g("div.h5-tips");0==h.length&&(h=g("\x3cdiv class\x3d'h5-tips' style\x3d'position:absolute;width:160px;height:40px;z-index:100000;text-align:center;'\x3e\x3cdiv id\x3d'tipsSpan' class\x3d'tips-msg'\x3e\x3c/div\x3e\x3c/div\x3e").appendTo(g("body")));g("img",h).remove();
null!=b&&"loading"!=b||g("\x3cimg src\x3d'/css/image/loading.gif' /\x3e").prependTo(h);g("#tipsSpan",h).html(c);c=g(window).scrollTop()+(g(window).height()-40)/2-50;b=0+(g(window).width()-200)/2;h.css({top:c+"px",left:b+"px"}).show();e.ui._overlay(!0,h);d&&setTimeout(function(){g("div.h5-tips").hide();g.isFunction(f)&&f()},d)},hideTips:function(){e.ui._overlay(!1,g("div.h5-tips"));g("div.h5-tips").hide()},doAction:function(c,b){null==c&&(c="global");if(z[c])return console.log("do Action: "+c+" is running."),
!1;console.log("do Action: "+c);z[c]={};b&&setTimeout(function(){z[c]&&e.ui.showTips(b)},1E3);return!0},isActionRunning:function(c){null==c&&(c="global");return null!=z[c]},actionDone:function(c){null==c&&(c="global");console.log("do Action: "+c+" done.");e.ui.hideTips();z[c]&&(z[c]=null)},_overlay:function(c,b){var d=g("body \x3e .h5-overlay");g(document);0==d.length?d=g("\x3cdiv class\x3d'h5-overlay'/\x3e").toggle(c).insertBefore(b):d.insertBefore(b).toggle(c);return d},showWindow:function(c,b){var d=
g("div.h5-window"),f=b.closeCallback;0==d.length&&(d=g("\x3cdiv class\x3d'h5-window' style\x3d'position:absolute;'\x3e\x3cdiv class\x3d'h5-window-title'\x3e\x3cspan class\x3d'title'\x3e\x3c/span\x3e\x3ca href\x3d'javascript:;' class\x3d'close'\x3e\x3cspan class\x3d'icon icon-close close'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'h5-window-content'\x3e\x3c/div\x3e\x3cdiv class\x3d'h5-window-bottom'\x3e\x3cdiv class\x3d'h5-window-buttons'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e").appendTo(g("body")),
g("a.close",d).bind("click",function(){e.ui.hideWindow();g.isFunction(f)&&f()}));var h=g(window).scrollTop(),k=b&&b.width?b.width:320,l=b&&b.height?b.height:80,n=k+14,A=l+(b&&b.actions?80:40),h=h+(g(window).height()-A)/2,E=0+(g(window).width()-n)/2;g("div.h5-window-content",d).css({width:k+"px",height:l+"px"});b&&b.title&&g("span.title",d).text(b.title);g("div.h5-window-content",d).html(g(c));g("div.h5-window-buttons",d).empty();b&&b.actions&&g.each(b.actions,function(){var c=g("\x3ca href\x3d'javascript:;' class\x3d'h5-button' style\x3d'margin-right:.5em;font-size:0.7em;'\x3e"+
this.name+"\x3c/a\x3e");c.bind("click",this.callback);g("div.h5-window-buttons",d).append(c)});b.modal&&e.ui._overlay(!0,d);d.css({width:n+"px",height:A+"px",top:h+"px",left:E+"px"}).show()},hideWindow:function(){e.ui._overlay(!1,g("div.h5-window"));g("div.h5-window").hide()},lazyImgLoad:function(c){c.attr("flag")||(c.find("img.lazyImg").each(function(c,b){b=g(b);(src=b.data("img"))&&b.attr("src",src).removeAttr("data-img").removeClass("lazyImg");b.data("name")&&"topImg"==b.data("name")&&b.bind("load",
function(c){g(this).css("width","100%")})}),c.attr("flag","1"))},lazyImgLoad2:function(c){for(var b=0;b<c.length;b++){var d=g(c[b]);d.attr("flag")||(d.find("img.lazyImg").each(function(c,b){b=g(b);src=b.data("img");var d=new Image;d.src=src;if(d.complete)b.attr("src",d.src).removeAttr("data-img").removeClass("lazyImg"),delete d;else g(d).on("load",g.proxy(function(){this.item.attr("src",this.img.src).removeAttr("data-img").removeClass("lazyImg");g(this.img).off("load");delete this.img},{item:b,img:d}))}),
d.attr("flag","1"))}},Widget:w,plugin:function(c,b,d){var f=c.fn.options.name;b=b||e.ui;b[f]=c;f="hfive"+(d||"")+f;g.fn[f]=function(b){g(this).each(function(){var d=new c(this,b);g(this).get(0)[f]=d;g.fn.hfiveWidget=function(){return g(this).get(0)[f]}});return this}}});g(document).ready(function(){var c,b,d,f;c=document.getElementsByTagName("head")[0];b=document.body;d=document.createElement("style");d.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-webkit-transform-3d){#hfive-3dtest{height:3px}}";
f=document.createElement("div");f.id="hfive-3dtest";c.appendChild(d);b.appendChild(f);c=3===f.offsetHeight;d.parentNode.removeChild(d);f.parentNode.removeChild(f);g.extend(e.support,{transform3d:c,translateStart:c?"translate3d(":"translate(",translateEnd:c?",0)":")"})})})();
(function(){var d=window.hfive,b=d.$,e="function",g="boolean",k=b.isFunction;b.hfiveMobile=function(c){function f(c){c=d.getHashes(location.hash);var b=q.getView(c.view);if(null==b)0>=w.length&&(q.defaultView&&k(q.defaultView)?h(q.defaultView()):h(q.views[0].name));else{var l=!0;b&&(b.checkView&&k(b.checkView))&&(l=b.checkView({target:c}));var p=typeof l;g===p&&!0==l?t(c):e===p?l.call(b):q.getErrorAction&&k(q.getErrorAction)&&h(q.getErrorAction())}}function h(c){var d={};"string"==typeof c?d.view=
c:"object"==typeof c&&(d=c);d&&(d.view&&null!=q.getView(d.view))&&(window.location.hash=b.param(d))}function p(c,b){var d=q.getView(c.view);null!=d&&(d&&d.initView&&k(d.initView))&&(q.attachHeader&&k(q.attachHeader)&&q.attachHeader({target:c,from:b}),d.initView({target:c,from:b}))}function t(c){var d=c.view;if(null!=q.getView(d)){for(var f=0,h=q.views.length;f<h;f++)q.views[f].view.hide();d=b("#"+d+"View");d.show();var e=w[w.length-1];w.push(c);if(1==w.length)d.css({left:0}),p(c,null);else if(e&&
e.view!=c.view){var g=b("#"+e.view+"View");g.show();d=q.getViewIndex(e.view);f=q.getViewIndex(c.view);h={};d<f?h.marginLeft="-100%":(m.css("marginLeft","-100%"),h.marginLeft="0");m.animate(h,{duration:200,complete:function(){m.css("margin",0);g.hide();var b=q.getView(e.view);null!=b&&b&&(b.unloadView&&k(b.unloadView))&&b.unloadView({target:c,current:e});p(c,e)}})}}}var s,m,v=b("head"),w=[],u={},B={},x="",q,z={addGlossToIcon:!0,debug:!1,fixedViewport:!0,formSelector:"form",fullScreen:!0,fullScreenClass:"fullscreen",
icon:null,icon4:null,preloadImages:!1,startupScreen:null,statusBar:"default"};(function(c){u=b.extend({},z,c);q=u.app;if(u.preloadImages)for(c=u.preloadImages.length-1;0<=c;c--)(new Image).src=u.preloadImages[c];c=u.addGlossToIcon?"":"-precomposed";u.icon&&(x+='\x3clink rel\x3d"apple-touch-icon'+c+'" href\x3d"'+u.icon+'" /\x3e');u.icon4&&(x+='\x3clink rel\x3d"apple-touch-icon'+c+'" sizes\x3d"114x114" href\x3d"'+u.icon4+'" /\x3e');u.startupScreen&&(x+='\x3clink rel\x3d"apple-touch-startup-image" href\x3d"'+
u.startupScreen+'" /\x3e');u.fullScreen&&(x+='\x3cmeta name\x3d"apple-mobile-web-app-capable" content\x3d"yes" /\x3e',u.statusBar&&(x+='\x3cmeta name\x3d"apple-mobile-web-app-status-bar-style" content\x3d"'+u.statusBar+'" /\x3e'));x&&v.prepend(x);c=d.support.mobileOS;c.isMicroMessenger&&"ios"==c.name&&b("body").addClass("ios"+d.support.mobileOS.mmMajorVersion+d.support.mobileOS.mmMinorVersion.replace(".",""))})(c);b(document).ready(function(){b.fn.makeActive=function(){return b(this).addClass("active")};
b.fn.unselect=function(c){c?c.removeClass("active"):b(".active").removeClass("active")};b(window).bind("hashchange",f);m=b("#viewLayout");if(0===m.length){s=b("\x3cdiv id\x3d'wrapper'\x3e\x3c/div\x3e");m=b("\x3cdiv id\x3d'viewLayout' style\x3d'width:200%'\x3e\x3c/div\x3e");s.append(m);b(document.body).prepend(s);for(var c=0,d=q.views.length;c<d;c++){var h=q.views[c].name,h=b("#"+h+"View");h.css({width:"50%","float":"left"});h.appendTo(m)}}else for(s=b("#wrapper"),m.css({width:"200%"}),c=0,d=q.views.length;c<
d;c++)h=q.views[c].name,h=b("#"+h+"View"),h.css({width:"50%","float":"left"});f()});return B={goBack:function(){var c=w[w.length-1],b=q.getView(c.view);b&&b.historyGoBack&&k(b.historyGoBack)?checkResult=b.historyGoBack({target:c}):window.history.go(-1)},goToView:h,history:w,settings:u}};var h=d.Observable.extend({loaded:!1,init:function(c){d.Observable.fn.init.call(this);this.name=c.name;this.app=c.app;this.view=b("#"+c.name+"View")},initView:function(c){0>=this.view.length?this.doLoadView2(b.proxy(this.onViewReloaded,
this),c):this._internalInitView(c)},onViewReloaded:function(c){var d=this.app;this.view=b("#"+this.name+"View");this.view.show();d.attachHeader&&k(d.attachHeader)&&d.attachHeader(c);this._internalInitView(c)},_internalInitView:function(c){this.loaded||(this.initCom&&k(this.initCom)&&this.initCom(c),this.loaded=!0);this.showView&&k(this.showView)&&this.showView(c);b("a[data-target-view]").bind("click",b.proxy(this.onTargetViewHrefClick,this))},onTargetViewHrefClick:function(c){c=b(c.currentTarget).data("target-view");
this.app.goToView(c)}}),f=d.Observable.extend({init:function(c){d.Observable.fn.init.call(this)},initPage:function(c,d){this.hfiveMobile=new b.hfiveMobile(c);this.views=d},getView:function(c){for(var b=0;b<this.views.length;b++)if(this.views[b].name==c)return this.views[b];return null},getViewIndex:function(c){for(var b=0;b<this.views.length;b++)if(this.views[b].name==c)return b;return-1},goBack:function(){this.hfiveMobile.goBack()},goToView:function(c){this.hfiveMobile.goToView(c)},history:function(){this.hfiveMobile.history()},
settings:function(){return this.hfiveMobile.settings}});d.BasePage=f;d.BaseView=h})();(function(){var d=window.hfive,b=d.$,e=d.ui.Widget,g=e.extend({init:function(b,d){e.fn.init.call(this,b,d);this._wrap();this.bind(["startDateChanged","endDateChanged","dateSelected"],d)},options:{name:"Calendar",singleDate:!0,firstDayOfWeek:0,localizedDate:{days:{names:{min:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")}},months:{names:{"long":"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" ")}}}},_wrap:function(){var e=this;e.dateInfo=
e.options.localizedDate;e.calendar=b('\x3cdiv class\x3d"h5-calendar"\x3e\x3c/div\x3e');e.element.append(e.calendar);e.previous=b("\x3ca\x3e\x26lt;\x3c/a\x3e");e.next=b("\x3ca\x3e\x26gt;\x3c/a\x3e");e.month=b('\x3cli class\x3d"h5-cal-month"\x3e\x3c/li\x3e');e.calendar.append(b('\x3cul class\x3d"h5-cal-buttonBar"\x3e\x3c/ul\x3e').append(b('\x3cli class\x3d"h5-cal-previous"\x3e\x3c/li\x3e').append(e.previous)).append(e.month).append(b('\x3cli class\x3d"h5-cal-next"\x3e\x3c/li\x3e').append(e.next)));
for(var h=0,f="",c="";7>h;h++)f+="\x3cth\x3e\x3cspan\x3e\x3c/span\x3e\x3c/th\x3e",c+="\x3ctd\x3e\x3ca\x3e\x3c/a\x3e\x3c/td\x3e";for(var h=0,g="";6>h;h++)g+="\x3ctr\x3e"+c+"\x3c/tr\x3e";e.calendar.append('\x3cdiv class\x3d"h5-cal-grid"\x3e\x3ctable\x3e\x3cthead\x3e\x3ctr\x3e'+f+"\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e"+g+"\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e");weekdays=e.calendar.find("th span");if(e.dateInfo)for(h=0,f=weekdays.length;h<f;h++)weekdays.eq(e._getDay(h)).text(e.dateInfo.days.names.min[h]);
e.days=e.calendar.find("td a");e.rows=e.calendar.find("tr");e.rows.eq(1).addClass("first");e.table=e.calendar.find("table");e.days.bind("click",b.proxy(e._dateSelected,e));today=(new Date).clearTime();e.minDate=today;e.startDate=e.options.startDate?(new Date(e.options.startDate)).clearTime():null;e.endDate=e.options.endDate?(new Date(e.options.endDate)).clearTime():null;e.currentMonth=(e.startDate||today).clone();e.monthGrid=e.calendar.find(".h5-cal-grid");e.previous.bind("click",function(c){c.preventDefault();
if(d.support.transform3d){if(!(1<e.monthGrid.children().length)){e.currentMonth=e.currentMonth.addMonths(-1);var f=e.calendar.find("table"),h=b("\x3ctable\x3e"+f.html()+"\x3c/table\x3e");e.monthGrid.append(h);e.days=h.find("td a");e.days.bind("click",b.proxy(e._dateSelected,e));e.rows=h.find("tr");e.rows.eq(1).addClass("first");e._showMonth(e.currentMonth);h.addClass("myslideright ina");f.addClass("myslideright outa").bind(d.support.animationEnd,function(c){f.unbind(d.support.animationEnd);h.removeClass("myslideright ina");
f.remove()})}}else e.currentMonth=e.currentMonth.addMonths(-1),e._showMonth(e.currentMonth)});e.next.bind("click",function(c){c.preventDefault();if(d.support.transform3d){if(!(1<e.monthGrid.children().length)){e.currentMonth=e.currentMonth.addMonths(1);var f=e.calendar.find("table"),h=b("\x3ctable\x3e"+f.html()+"\x3c/table\x3e");e.monthGrid.append(h);e.days=h.find("td a");e.days.bind("click",b.proxy(e._dateSelected,e));e.rows=h.find("tr");e.rows.eq(1).addClass("first");e._showMonth(e.currentMonth);
h.addClass("myslideleft ina");f.addClass("myslideleft outa").bind(d.support.animationEnd,function(c){f.removeClass("myslideleft outa").unbind(d.support.animationEnd);h.removeClass("myslideleft ina");f.remove()})}}else e.currentMonth=e.currentMonth.addMonths(1),e._showMonth(e.currentMonth)});e.calendar.bind("resetDates",function(c){e.setDate("startDate",null);e.setDate("endDate",null)});e._showMonth(e.currentMonth)},setDate:function(b,d){d&&d.clearTime&&d.clearTime();"startDate"==b?this.startDate=
d:this.endDate=d;this._drawSelection();this.calendar.attr("data-"+b.toLowerCase(),d?d.toString():"");this.trigger(b+"Changed",{calendar:this,value:d})},selectDate:function(b){this.setDates(b.clone(),null);this.currentMonth=b;this._showMonth(b)},_dateSelected:function(d){d.preventDefault();d=b(d.target);if(d.is("td a")&&!d.hasClass("inactive")&&0!=d.text().length){var e=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth(),parseInt(d.text()));this.options.singleDate?(this.setDate("startDate",
e),this.trigger("dateSelected",{calendar:this,value:e})):this.startDate?this.endDate?d.hasClass("startDate")?this.setDate("startDate",null):(d.hasClass("endDate")||this.setDate("startDate",null),this.setDate("endDate",null)):this.startDate<e?this.setDate("endDate",e):e<this.startDate?(this.setDate("endDate",this.startDate),this.setDate("startDate",e)):this.setDate("startDate",null):this.endDate?e<this.endDate?this.setDate("startDate",e):this.endDate<e?(this.setDate("startDate",this.endDate),this.setDate("endDate",
e)):this.setDate("endDate",null):this.setDate("startDate",e)}},_getDay:function(b){return(b+this.options.firstDayOfWeek)%7},_drawSelection:function(){this.days.removeClass("startDate").removeClass("endDate").removeClass("betweenDates");var b=this.currentMonth.clone().moveToFirstDayOfMonth(),d=this.currentMonth.clone().moveToLastDayOfMonth(),f=this._getDay(b.getDay())-1;if(this.startDate&&this.endDate&&this.startDate<d&&this.endDate>b){var c=new Date(Math.max(b,this.startDate.clone().addDays(1))),
e=new Date(Math.min(d,this.endDate.clone().addDays(-1)));c<=e&&this.days.slice(f+c.getDate(),f+e.getDate()+1).addClass("betweenDates")}this.startDate&&(b<=this.startDate&&this.startDate<=d)&&this.days.eq(f+this.startDate.getDate()).addClass("startDate");this.endDate&&(b<=this.endDate&&this.endDate<=d)&&this.days.eq(f+this.endDate.getDate()).addClass("endDate")},setDates:function(b,d){this.options.singleDate&&(this.currentMonth=(b||today).clone(),this._showMonth(this.currentMonth));this.setDate("startDate",
b&&d?new Date(Math.min(b,d)):b);!this.options.singleDate&&this.setDate("endDate",b&&d?b.getTime()!=d.getTime()?new Date(Math.max(b,d)):null:d)},_showMonth:function(b){var d=this;d.minDate=new Date(Math.max(d.minDate,today));d.dateInfo&&d.month.text(b.getFullYear()+"\u5e74"+d.dateInfo.months.names["long"][b.getMonth()]);var f=d.minDate>b.clone().moveToLastDayOfMonth(),c=!f&&d.minDate>=b.clone().moveToFirstDayOfMonth(),e=d.minDate.getDate();d.days.addClass("noTransition").removeClass("inactive");d.rows.removeClass("last").removeClass("hidden");
var g=d._getDay(b.clone().moveToFirstDayOfMonth().getDay())-1;b=g+b.clone().moveToLastDayOfMonth().getDate();for(var p=0,t=d.days.length;p<t;p++){var s=p>g&&p<=b,m=d.days.eq(p).text(s?""+(p-g):"");s&&(f||c&&p-g<e)&&m.addClass("inactive");c&&today.getDate()==p-g&&m.addClass("today");p==b&&m.closest("tr").addClass("last").next().addClass("hidden").next().addClass("hidden")}setTimeout(function(){d.days.removeClass("noTransition")},0);d._drawSelection()}});d.ui.plugin(g)})();
(function(){Date.CultureInfo={name:"zh-cn",englishName:"\u7b80\u4f53\u4e2d\u6587",nativeName:"\u7b80\u4f53\u4e2d\u6587",dayNames:"\u661f\u671f\u5929 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),abbreviatedDayNames:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),shortestDayNames:"Su Mo Tu We Th Fr Sa".split(" "),firstLetterDayNames:"SMTWTFS".split(""),monthNames:"January February March April May June July August September October November December".split(" "),
abbreviatedMonthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},
regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,
today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",
MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(d){var b=Date.CultureInfo.monthNames,e=Date.CultureInfo.abbreviatedMonthNames;d=d.toLowerCase();for(var g=0;g<b.length;g++)if(b[g].toLowerCase()==d||e[g].toLowerCase()==d)return g;return-1};Date.getDayNumberFromName=function(d){var b=Date.CultureInfo.dayNames,e=Date.CultureInfo.abbreviatedDayNames;d=d.toLowerCase();for(var g=0;g<b.length;g++)if(b[g].toLowerCase()==
d||e[g].toLowerCase()==d)return g;return-1};Date.isLeapYear=function(d){return 0===d%4&&0!==d%100||0===d%400};Date.getDaysInMonth=function(d,b){return[31,Date.isLeapYear(d)?29:28,31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(d,b){return b?Date.CultureInfo.abbreviatedTimeZoneDST[d.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[d.toUpperCase()]};Date.getTimezoneAbbreviation=function(d,b){var e=b?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,
g;for(g in e)if(e[g]===d)return g;return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(d){if(isNaN(this))throw Error(this);if(d instanceof Date&&!isNaN(d))return this>d?1:this<d?-1:0;throw new TypeError(d);};Date.prototype.equals=function(d){return 0===this.compareTo(d)};Date.prototype.between=function(d,b){var e=this.getTime();return e>=d.getTime()&&e<=b.getTime()};Date.prototype.addMilliseconds=function(d){this.setMilliseconds(this.getMilliseconds()+
d);return this};Date.prototype.addSeconds=function(d){return this.addMilliseconds(1E3*d)};Date.prototype.addMinutes=function(d){return this.addMilliseconds(6E4*d)};Date.prototype.addHours=function(d){return this.addMilliseconds(36E5*d)};Date.prototype.addDays=function(d){return this.addMilliseconds(864E5*d)};Date.prototype.addWeeks=function(d){return this.addMilliseconds(6048E5*d)};Date.prototype.addMonths=function(d){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+d);this.setDate(Math.min(b,
this.getDaysInMonth()));return this};Date.prototype.addYears=function(d){return this.addMonths(12*d)};Date.prototype.add=function(d){if("number"==typeof d)return this._orient=d,this;(d.millisecond||d.milliseconds)&&this.addMilliseconds(d.millisecond||d.milliseconds);(d.second||d.seconds)&&this.addSeconds(d.second||d.seconds);(d.minute||d.minutes)&&this.addMinutes(d.minute||d.minutes);(d.hour||d.hours)&&this.addHours(d.hour||d.hours);(d.month||d.months)&&this.addMonths(d.month||d.months);(d.year||
d.years)&&this.addYears(d.year||d.years);(d.day||d.days)&&this.addDays(d.day||d.days);return this};Date._validate=function(d,b,e,g){if("number"!=typeof d)throw new TypeError(d+" is not a Number.");if(d<b||d>e)throw new RangeError(d+" is not a valid value for "+g+".");return!0};Date.validateMillisecond=function(d){return Date._validate(d,0,999,"milliseconds")};Date.validateSecond=function(d){return Date._validate(d,0,59,"seconds")};Date.validateMinute=function(d){return Date._validate(d,0,59,"minutes")};
Date.validateHour=function(d){return Date._validate(d,0,23,"hours")};Date.validateDay=function(d,b,e){return Date._validate(d,1,Date.getDaysInMonth(b,e),"days")};Date.validateMonth=function(d){return Date._validate(d,0,11,"months")};Date.validateYear=function(d){return Date._validate(d,1,9999,"seconds")};Date.prototype.set=function(d){d.millisecond||0===d.millisecond||(d.millisecond=-1);d.second||0===d.second||(d.second=-1);d.minute||0===d.minute||(d.minute=-1);d.hour||0===d.hour||(d.hour=-1);d.day||
0===d.day||(d.day=-1);d.month||0===d.month||(d.month=-1);d.year||0===d.year||(d.year=-1);-1!=d.millisecond&&Date.validateMillisecond(d.millisecond)&&this.addMilliseconds(d.millisecond-this.getMilliseconds());-1!=d.second&&Date.validateSecond(d.second)&&this.addSeconds(d.second-this.getSeconds());-1!=d.minute&&Date.validateMinute(d.minute)&&this.addMinutes(d.minute-this.getMinutes());-1!=d.hour&&Date.validateHour(d.hour)&&this.addHours(d.hour-this.getHours());-1!==d.month&&Date.validateMonth(d.month)&&
this.addMonths(d.month-this.getMonth());-1!=d.year&&Date.validateYear(d.year)&&this.addYears(d.year-this.getFullYear());-1!=d.day&&Date.validateDay(d.day,this.getFullYear(),this.getMonth())&&this.addDays(d.day-this.getDate());d.timezone&&this.setTimezone(d.timezone);d.timezoneOffset&&this.setTimezoneOffset(d.timezoneOffset);return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var d=
this.getFullYear();return 0===d%4&&0!==d%100||0===d%400};Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(d,b){var e=(d-this.getDay()+7*(b||1))%7;return this.addDays(0===
e?e+7*(b||1):e)};Date.prototype.moveToMonth=function(d,b){var e=(d-this.getMonth()+12*(b||1))%12;return this.addMonths(0===e?e+12*(b||1):e)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864E5)};Date.prototype.getWeekOfYear=function(d){var b=this.getFullYear(),e=this.getMonth(),g=this.getDate();d=d||Date.CultureInfo.firstDayOfWeek;var k=8-(new Date(b,0,1)).getDay();8==k&&(k=1);e=(Date.UTC(b,e,g,0,0,0)-Date.UTC(b,0,1,0,0,0))/864E5+1;e=Math.floor((e-
k+7)/7);e===d&&(b--,b=8-(new Date(b,0,1)).getDay(),e=2==b||8==b?53:52);return e};Date.prototype.isDST=function(){console.log("isDST");return"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(d){var b=this.getTimezoneOffset();this.addMinutes(-6*Number(d)/10-b);return this};Date.prototype.setTimezone=function(d){return this.setTimezoneOffset(Date.getTimezoneOffset(d))};
Date.prototype.getUTCOffset=function(){var d=-10*this.getTimezoneOffset()/6;if(0>d)return d=(d-1E4).toString(),d[0]+d.substr(2);d=(d+1E4).toString();return"+"+d.substr(1)};Date.prototype.getDayName=function(d){return d?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(d){return d?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;
Date.prototype.toString=function(d){var b=this,e=function(b){return 1==b.toString().length?"0"+b:b};return d?d.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case "hh":return e(13>b.getHours()?b.getHours():b.getHours()-12);case "h":return 13>b.getHours()?b.getHours():b.getHours()-12;case "HH":return e(b.getHours());case "H":return b.getHours();case "mm":return e(b.getMinutes());case "m":return b.getMinutes();case "ss":return e(b.getSeconds());case "s":return b.getSeconds();
case "yyyy":return b.getFullYear();case "yy":return b.getFullYear().toString().substring(2,4);case "dddd":return b.getDayName();case "ddd":return b.getDayName(!0);case "dd":return e(b.getDate());case "d":return b.getDate().toString();case "MMMM":return b.getMonthName();case "MMM":return b.getMonthName(!0);case "MM":return e(b.getMonth()+1);case "M":return b.getMonth()+1;case "t":return 12>b.getHours()?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case "tt":return 12>
b.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case "zzz":case "zz":case "z":return""}}):this._toString()};Date.today=function(){return(new Date).clearTime()};Date.prototype._orient=1;Date.prototype.next=function(){this._orient=1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=!1;Date.prototype.is=function(){this._is=!0;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=
function(){var d={};d[this._dateElement]=this;return(new Date).add(d)};Number.prototype.ago=function(){var d={};d[this._dateElement]=-1*this;return(new Date).add(d)};String.prototype.startWith=function(d){return RegExp("^"+d).test(this)};(function(){for(var d=Date.prototype,b=Number.prototype,e="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),g="january february march april may june july august september october november december".split(/\s/),k="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),
h=function(c){return function(){return this._is?(this._is=!1,this.getDay()==c):this.moveToDayOfWeek(c,this._orient)}},f=0;f<e.length;f++)d[e[f]]=d[e[f].substring(0,3)]=h(f);e=function(c){return function(){return this._is?(this._is=!1,this.getMonth()===c):this.moveToMonth(c,this._orient)}};for(h=0;h<g.length;h++)d[g[h]]=d[g[h].substring(0,3)]=e(h);e=function(c){return function(){"s"!=c.substring(c.length-1)&&(c+="s");return this["add"+c](this._orient)}};h=function(c){return function(){this._dateElement=
c;return this}};for(f=0;f<k.length;f++)g=k[f].toLowerCase(),d[g]=d[g+"s"]=e(k[f]),b[g]=b[g+"s"]=h(g)})();Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};
Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(b){this.message="Parse error at '"+b.substring(0,10)+" ...'"}};for(var d=Date.Parsing,b=d.Operators={rtoken:function(b){return function(f){var c=f.match(b);if(c)return[c[0],f.substring(c[0].length)];
throw new d.Exception(f);}},token:function(d){return function(d){return b.rtoken(RegExp("^s*"+d+"s*"))(d)}},stoken:function(d){return b.rtoken(RegExp("^"+d))},until:function(b){return function(d){for(var c=[],e=null;d.length;){try{e=b.call(this,d)}catch(g){c.push(e[0]);d=e[1];continue}break}return[c,d]}},many:function(b){return function(d){for(var c=[],e=null;d.length;){try{e=b.call(this,d)}catch(g){break}c.push(e[0]);d=e[1]}return[c,d]}},optional:function(b){return function(d){var c=null;try{c=b.call(this,
d)}catch(e){return[null,d]}return[c[0],c[1]]}},not:function(b){return function(e){try{b.call(this,e)}catch(c){return[null,e]}throw new d.Exception(e);}},ignore:function(b){return b?function(d){var c=null,c=b.call(this,d);return[null,c[1]]}:null},product:function(){for(var d=arguments[0],e=Array.prototype.slice.call(arguments,1),c=[],g=0;g<d.length;g++)c.push(b.each(d[g],e));return c},cache:function(b){var e={},c=null;return function(g){try{c=e[g]=e[g]||b.call(this,g)}catch(k){c=e[g]=k}if(c instanceof
d.Exception)throw c;return c}},any:function(){var b=arguments;return function(e){for(var c=null,g=0;g<b.length;g++)if(null!=b[g]){try{c=b[g].call(this,e)}catch(k){c=null}if(c)return c}throw new d.Exception(e);}},each:function(){var b=arguments;return function(e){for(var c=[],g=null,k=0;k<b.length;k++)if(null!=b[k]){try{g=b[k].call(this,e)}catch(p){throw new d.Exception(e);}c.push(g[0]);e=g[1]}return[c,e]}},all:function(){var b=b;return b.each(b.optional(arguments))},sequence:function(e,f,c){f=f||
b.rtoken(/^\s*/);c=c||null;return 1==e.length?e[0]:function(b){for(var g=null,k=null,t=[],s=0;s<e.length;s++){try{g=e[s].call(this,b)}catch(m){break}t.push(g[0]);try{k=f.call(this,g[1])}catch(v){k=null;break}b=k[1]}if(!g)throw new d.Exception(b);if(k)throw new d.Exception(k[1]);if(c)try{g=c.call(this,g[1])}catch(w){throw new d.Exception(g[1]);}return[t,g?g[1]:b]}},between:function(d,e,c){c=c||d;var g=b.each(b.ignore(d),e,b.ignore(c));return function(c){c=g.call(this,c);return[[c[0][0],r[0][2]],c[1]]}},
list:function(d,e,c){e=e||b.rtoken(/^\s*/);c=c||null;return d instanceof Array?b.each(b.product(d.slice(0,-1),b.ignore(e)),d.slice(-1),b.ignore(c)):b.each(b.many(b.each(d,b.ignore(e))),px,b.ignore(c))},set:function(e,f,c){f=f||b.rtoken(/^\s*/);c=c||null;return function(g){for(var k=null,p=k=null,t=null,s=[[],g],m=!1,v=0;v<e.length;v++){k=p=null;m=1==e.length;try{k=e[v].call(this,g)}catch(w){continue}t=[[k[0]],k[1]];if(0<k[1].length&&!m)try{p=f.call(this,k[1])}catch(u){m=!0}else m=!0;m||0!==p[1].length||
(m=!0);if(!m){k=[];for(m=0;m<e.length;m++)v!=m&&k.push(e[m]);k=b.set(k,f).call(this,p[1]);0<k[0].length&&(t[0]=t[0].concat(k[0]),t[1]=k[1])}t[1].length<s[1].length&&(s=t);if(0===s[1].length)break}if(0===s[0].length)return s;if(c){try{p=c.call(this,s[1])}catch(B){throw new d.Exception(s[1]);}s[1]=p[1]}return s}},forward:function(b,d){return function(c){return b[d].call(this,c)}},replace:function(b,d){return function(c){c=b.call(this,c);return[d,c[1]]}},process:function(b,d){return function(c){c=b.call(this,
c);return[d.call(this,c[0]),c[1]]}},min:function(b,e){return function(c){var g=e.call(this,c);if(g[0].length<b)throw new d.Exception(c);return g}}},e=function(b){return function(){var d=null,c=[];1<arguments.length?d=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(d=arguments[0]);if(d)for(var e=d.shift();0<e.length;)return d.unshift(e[0]),c.push(b.apply(null,d)),d.shift(),c;else return b.apply(null,arguments)}},g="optional not ignore cache".split(/\s/),k=0;k<g.length;k++)b[g[k]]=
e(b[g[k]]);e=function(b){return function(){return arguments[0]instanceof Array?b.apply(null,arguments[0]):b.apply(null,arguments)}};g="each any all".split(/\s/);for(k=0;k<g.length;k++)b[g[k]]=e(b[g[k]])})();(function(){var d=function(c){for(var b=[],e=0;e<c.length;e++)c[e]instanceof Array?b=b.concat(d(c[e])):c[e]&&b.push(c[e]);return b};Date.Grammar={};Date.Translator={hour:function(c){return function(){this.hour=Number(c)}},minute:function(c){return function(){this.minute=Number(c)}},second:function(c){return function(){this.second=
Number(c)}},meridian:function(c){return function(){this.meridian=c.slice(0,1).toLowerCase()}},timezone:function(c){return function(){var b=c.replace(/[^\d\+\-]/g,"");b.length?this.timezoneOffset=Number(b):this.timezone=c.toLowerCase()}},day:function(c){var b=c[0];return function(){this.day=Number(b.match(/\d+/)[0])}},month:function(c){return function(){this.month=3==c.length?Date.getMonthNumberFromName(c):Number(c)-1}},year:function(c){return function(){var b=Number(c);this.year=2<c.length?b:b+(b+
2E3<Date.CultureInfo.twoDigitYearMax?2E3:1900)}},rday:function(c){return function(){switch(c){case "yesterday":this.days=-1;break;case "tomorrow":this.days=1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(c){c=c instanceof Array?c:[c];var b=new Date;this.year=b.getFullYear();this.month=b.getMonth();this.day=1;for(b=this.second=this.minute=this.hour=0;b<c.length;b++)c[b]&&c[b].call(this);this.hour="p"==this.meridian&&13>this.hour?this.hour+12:this.hour;
if(this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");c=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);this.timezone?c.set({timezone:this.timezone}):this.timezoneOffset&&c.set({timezoneOffset:this.timezoneOffset});return c},finish:function(c){c=c instanceof Array?d(c):[c];if(0===c.length)return null;for(var b=0;b<c.length;b++)"function"==typeof c[b]&&c[b].call(this);if(this.now)return new Date;c=Date.today();
if(null!=this.days||this.orient||this.operator){var e,f;f="past"==this.orient||"subtract"==this.operator?-1:1;this.weekday&&(this.unit="day",b=Date.getDayNumberFromName(this.weekday)-c.getDay(),e=7,this.days=b?(b+f*e)%e:f*e);this.month&&(this.unit="month",b=this.month-c.getMonth(),e=12,this.months=b?(b+f*e)%e:f*e,this.month=null);this.unit||(this.unit="day");if(null==this[this.unit+"s"]||null!=this.operator)this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value*=7),this[this.unit+
"s"]=this.value*f;return c.add(this)}this.meridian&&this.hour&&(this.hour=13>this.hour&&"p"==this.meridian?this.hour+12:this.hour);this.weekday&&!this.day&&(this.day=c.addDays(Date.getDayNumberFromName(this.weekday)-c.getDay()).getDate());this.month&&!this.day&&(this.day=1);return c.set(this)}};var b=Date.Parsing.Operators,e=Date.Grammar,g=Date.Translator,k;e.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=b.stoken(":");e.whiteSpace=b.rtoken(/^\s*/);e.generalDelimiter=b.rtoken(/^(([\s\,]|at|on)+)/);
var h={};e.ctoken=function(c){var d=h[c];if(!d){for(var d=Date.CultureInfo.regexPatterns,e=c.split(/\s+/),f=[],g=0;g<e.length;g++)f.push(b.replace(b.rtoken(d[e[g]]),e[g]));d=h[c]=b.any.apply(null,f)}return d};e.ctoken2=function(c){return b.rtoken(Date.CultureInfo.regexPatterns[c])};e.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),g.hour));e.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),g.hour));e.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),g.hour));e.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),
g.hour));e.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),g.minute));e.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),g.minute));e.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),g.second));e.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),g.second));e.hms=b.cache(b.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=b.cache(b.process(e.ctoken2("shortMeridian"),g.meridian));e.tt=b.cache(b.process(e.ctoken2("longMeridian"),g.meridian));e.z=b.cache(b.process(b.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),g.timezone));
e.zz=b.cache(b.process(b.rtoken(/^(\+|\-)\s*\d\d\d\d/),g.timezone));e.zzz=b.cache(b.process(e.ctoken2("timezone"),g.timezone));e.timeSuffix=b.each(b.ignore(e.whiteSpace),b.set([e.tt,e.zzz]));e.time=b.each(b.optional(b.ignore(b.stoken("T"))),e.hms,e.timeSuffix);e.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(e.ctoken2("ordinalSuffix"))),g.day));e.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(e.ctoken2("ordinalSuffix"))),g.day));e.ddd=e.dddd=b.cache(b.process(e.ctoken("sun mon tue wed thu fri sat"),
function(c){return function(){this.weekday=c}}));e.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),g.month));e.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),g.month));e.MMM=e.MMMM=b.cache(b.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),g.month));e.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),g.year));e.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),g.year));e.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),g.year));e.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),g.year));k=function(){return b.each(b.any.apply(null,
arguments),b.not(e.ctoken2("timeContext")))};e.day=k(e.d,e.dd);e.month=k(e.M,e.MMM);e.year=k(e.yyyy,e.yy);e.orientation=b.process(e.ctoken("past future"),function(c){return function(){this.orient=c}});e.operator=b.process(e.ctoken("add subtract"),function(c){return function(){this.operator=c}});e.rday=b.process(e.ctoken("yesterday tomorrow today now"),g.rday);e.unit=b.process(e.ctoken("minute hour day week month year"),function(c){return function(){this.unit=c}});e.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),
function(c){return function(){this.value=c.replace(/\D/g,"")}});e.expression=b.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);k=function(){return b.set(arguments,e.datePartDelimiter)};e.mdy=k(e.ddd,e.month,e.day,e.year);e.ymd=k(e.ddd,e.year,e.month,e.day);e.dmy=k(e.ddd,e.day,e.month,e.year);e.date=function(c){return(e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,c)};e.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),
function(c){if(e[c])return e[c];throw Date.Parsing.Exception(c);}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(c){return b.ignore(b.stoken(c))}))),function(c){return b.process(b.each.apply(null,c),g.finishExact)});var f={};e.formats=function(c){if(c instanceof Array){for(var d=[],g=0;g<c.length;g++)d.push(f[c[g]]=f[c[g]]||e.format(c[g])[0]);return b.any.apply(null,d)}return f[c]=f[c]||e.format(c)[0]};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz",
"d"]);e._start=b.process(b.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),g.finish);e.start=function(c){try{var b=e._formats.call({},c);if(0===b[1].length)return b}catch(d){}return e._start.call({},c)}})();Date._parse=Date.parse;Date.parse=function(d){var b=null;if(!d)return null;try{b=Date.Grammar.start.call({},d)}catch(e){return null}return 0===b[1].length?b[0]:null};Date.getParseFunction=function(d){var b=Date.Grammar.formats(d);return function(d){var g=null;try{g=b.call({},
d)}catch(k){return null}return 0===g[1].length?g[0]:null}};Date.parseExact=function(d,b){return Date.getParseFunction(b)(d)}})();(function(){function d(c,b,d){d||(d=function(){h.ui.hideWindow()});f.showWindow(b,{title:null==c?"\u63d0\u793a":c,width:280,height:48,modal:!0,closeCallback:d,actions:[{name:"\u786e\u5b9a",callback:d}]})}function b(c){return c===f.BOOKING_MODE_77?"77\u5143\u9884\u8ba2":c===f.BOOKING_MODE_88?"88\u5143\u9884\u8ba2":c===f.BOOKING_MODE_99?"99\u5143\u9884\u8ba2":c===f.BOOKING_MODE_100?"100\u5143\u9884\u8ba2":c===f.BOOKING_MODE_138?"138\u5143\u9884\u8ba2":c===f.BOOKING_MODE_178?"178\u5143\u9884\u8ba2":
c===f.BOOKING_MODE_FREE_ROOM?"\u514d\u8d39\u623f\u9884\u8ba2":c===f.BOOKING_MODE_204?"128\u9884\u8ba2":c===f.BOOKING_MODE_202?"168\u9884\u8ba2":c===f.BOOKING_MODE_POINT||c===f.BOOKING_MODE_P2000||c===f.BOOKING_MODE_P5000||c===f.BOOKING_MODE_P7000||c===f.BOOKING_MODE_P10000?"\u79ef\u5206\u5151\u6362":c===f.BOOKING_MODE_WXCARD?"\u5fae\u4fe1\u5361\u5305\u4f18\u60e0":c===f.BOOKING_MODE_TUAN77?"77\u56e2\u8d2d\u9884\u8ba2":c===f.BOOKING_MODE_TUAN99?"\u53bb\u554a99\u7279\u60e0\u623f":c===f.BOOKING_MODE_FREE?
"\u514d\u8d39\u623f\u9884\u8ba2":c===f.BOOKING_MODE_777?"\u9650\u65f6\u7279\u60e0\u623f":c===f.BOOKING_MODE_94?"\u79ef\u5206\u62b5\u73b0\u623f":c===f.BOOKING_MODE_XIAN206?"\u5e0c\u5cb8\u8bb8\u613f\u9884\u8ba2":null}function e(b){if(b||!u){var d=new Date;c.ajax({url:"/app/currentTime?"+Math.random(),dataType:"json",async:!1,success:function(c){d.setTime(c.time);u=d}});u=d}return u.clone()}function g(c,b,d){null==d&&(d="id");for(var e=0,f=b.length;e<f;e++){var g=b[e];if(g[d]==c)return g}}function k(c,
b){var d=c.getDay();if(1==b||2==b&&6==d)return!1;if(0==d||6<d+b)return!0}var h=window.hfive,f=window.webh5v2=window.webh5v2||{},c=h.$,l=c.proxy,G=h.support.mousedown,p=h.linkfocus,t=h.BaseView,s=c.trim,m=c.extend,v=c.get,w=h.localStorage,u,B=!1;f.hourSeparator=4;f.BOOKING_MODE_NORMAL="normal";f.BOOKING_MODE_POINT="point";f.BOOKING_MODE_77="77";f.BOOKING_MODE_88="88";f.BOOKING_MODE_99="99";f.BOOKING_MODE_FREE_ROOM="froom";f.BOOKING_MODE_P2000="P2000";f.BOOKING_MODE_P5000="P5000";f.BOOKING_MODE_P7000=
"P7000";f.BOOKING_MODE_P10000="P10000";f.BOOKING_MODE_138="138";f.BOOKING_MODE_178="178";f.BOOKING_MODE_202="168";f.BOOKING_MODE_204="128";f.BOOKING_MODE_100="100";f.BOOKING_MODE_777="777";f.BOOKING_MODE_94="94";f.BOOKING_MODE_XIAN206="xian206";f.BOOKING_MODE_WXCARD="97";f.BOOKING_MODE_TUAN77="tuan77";f.BOOKING_MODE_TUAN99="tuan99";f.BOOKING_MODE_FREE="free";f.MARKET_ID_77GIFT=1;f.MARKET_ID_88GIFT=76;f.MARKET_ID_99GIFT=78;f.MARKET_ID_FREE_ROOM=79;f.MARKET_ID_202GIFT=85;f.MARKET_ID_POINT_2000=5;f.MARKET_ID_POINT_5000=
6;f.MARKET_ID_POINT_7000=12;f.MARKET_ID_POINT_10000=95;f.ROOM_TYPE_ZSD=220;f.ROOM_TYPE_ZST=221;f.SOURCE_TYPE_ID_DEFAULT=108;f.TREASURE_XIAN_SELLER_ID=258792;f.GIFT_INVALID=0;f.GIFT_UNUSED=1;f.GIFT_USED=2;f.GIFT_EXPIRED=3;f.GIFT_DEACTIVED=4;f.commentItemTemplate=h.template('\x3cli\x3e\x3ch4\x3e\x3cb class\x3d"#\x3d commentFlag#"\x3e\x26nbsp;\x3c/b\x3e\x3cspan\x3e#\x3dcardNo#\x26nbsp;\x26nbsp;#if(memberTypeName){# (#\x3dmemberTypeName#) #}#\x3c/span\x3e #if(content \x3d\x3d null || content \x3d\x3d ""){# \x3cspan\x3e#\x3dcreateTime#\x3c/span\x3e #}#\x3c/h4\x3e#if(content \x26\x26 content !\x3d ""){#\x3cspan class\x3d"content"\x3e\x3cb class\x3d"youdian"\x3e\x26nbsp;\x3c/b\x3e#\x3dcontent #\x3c/span\x3e#}##if(disadvantage \x26\x26 disadvantage !\x3d ""){#\x3cspan class\x3d"content"\x3e\x3cb class\x3d"qiedian"\x3e\x26nbsp;\x3c/b\x3e#\x3ddisadvantage #\x3c/span\x3e#}#\x3cdiv class\x3d"reply"\x3e#if(replyContent){#\x3cspan class\x3d"header"\x3e#\x3dreplyBy# (#\x3dreplyTime#)\x3c/span\x3e\x3cspan class\x3d"content"\x3e#\x3dreplyContent#\x3c/span\x3e #}# \x3c/div\x3e#if(content !\x3d null \x26\x26 content !\x3d ""){# \x3cspan class\x3d"time"\x3e#\x3dcreateTime#\x3c/span\x3e #}#\x3c/li\x3e');
f.phoneReg=/^[1]\d{10}$/;Date.CultureInfo.dayNames="\u5468\u65e5 \u5468\u4e00 \u5468\u4e8c \u5468\u4e09 \u5468\u56db \u5468\u4e94 \u5468\u516d".split(" ");c(document).bind("ajaxError",function(c){});var x=t.extend({datePicker:null,init:function(b){t.fn.init.call(this,b);this.datePicker=c("#calDatePick").hfiveCalendar({dateSelected:l(this.onDateSelected,this)}).hfiveWidget();this.homeView=b.homeView},initCom:function(){var b=c(".h5-calendar").height()+50;c("#calDatePick").css({height:b+"px"});this.wrapper=
c(".h5-datePickWrapper");b=c("#"+this.view.data("header"));this.headerTitle=c(".h5-viewTitle",b)},showView:function(c){this.flag=0;app.trigger("onDatePickViewShow",{datePicker:this.datePicker,args:c})},historyGoBack:function(c){this.app.goToView(this.homeView)},onDateSelected:function(c){this.app.trigger("onDateChanged",{date:c.value,args:c})}}),q=t.extend({itemTemplate:null,container:null,fldCount:null,data:null,allowDays:0,innId:null,arriveDate:null,departureDate:null,cityId:null,roomTypeId:null,
init:function(c){t.fn.init.call(this,c);this.homeView=c.homeView},initCom:function(){this.itemTemplate=this.itemTemplate=h.template("\x3cli class\x3d'h5-card-forward'\x3e\x3ca href\x3d'javascript:;' data-refid\x3d'#\x3d cashCouponsID#'\x3e\x3cdiv class\x3d'left'\x3e\x3ch4\x3e\u8fd4\u73b0\u5238\x3c/h4\x3e\x3ch3\x3e\uffe5#\x3d amount#\x3c/h3\x3e\x3c/div\x3e\x3cimg style\x3d'max-height: 72px;width:12px;' src\x3d'/image/cashcoupons-bg.png'/\x3e\x3cdiv class\x3d'right'\x3e\x3ch4\x3e\u6709\u6548\u671f\x3c/h4\x3e\x3ch3\x3e#\x3d new Date(usedBeginTime).toString('yyyy-MM-dd') #\u81f3#\x3d new Date(usedEndTime).toString('yyyy-MM-dd') #\x3c/h3\x3e\x3c/div\x3e\x3cb\x3e\x3c/b\x3e\x3c/a\x3e\x3c/li\x3e");
this.container=c("#useCashCouponsView .cashcoupons-list");this.fldCount=c("#useCashCouponsView span[data-name\x3d'count']");c("#useCashCouponsView a[data-name\x3d'ok']").on("click",l(this.onOkClick,this));p("#useCashCouponsView a")},doLoadView2:function(b,d){v("/html/useCashCouponsView.html",function(e){c("#viewLayout").append(e);b(d)})},historyGoBack:function(c){this.onOkClick(null)},showView:function(c){this.app.trigger("onUseCashCouponsViewShow",{view:this,arg:c});this.loadCashCoupons()},loadCashCoupons:function(){var b=
this;b.container.empty();k(Date.parse(b.arriveDate),b.allowDays)?c("div[data-name\x3d'weekendTip']",b.view).show():c("div[data-name\x3d'weekendTip']",b.view).hide();h.ui.progress(b.container,!0);var d="/aq/enablecashcoupons?m\x3d"+Math.random(),d=d+("\x26innId\x3d"+b.innId),d=d+("\x26arriveDate\x3d"+b.arriveDate),d=d+("\x26departureDate\x3d"+b.departureDate),d=d+("\x26cityId\x3d"+b.cityId),d=d+("\x26roomTypeId\x3d"+b.roomTypeId);v(d,function(d){h.ui.progress(b.container,!1);b.data=d;d=h.render(b.itemTemplate,
b.data);var e=c("\x3cul style\x3d'padding:0 10px;'\x3e\x3c/ul\x3e");e.append(d);b.container.append(e);b.fldCount.text(b.allowDays);c("#useCashCouponsView .h5-frame").show();c("#useCashCouponsView .h5-card-forward a").on("click",l(b.cashCouponClick,b))})},cashCouponClick:function(b){b&&b.preventDefault();b=c(b.currentTarget);b.hasClass("sel")?b.removeClass("sel"):c("#useCashCouponsView .h5-card-forward a.sel").length>=this.allowDays?h.ui.showToast("\u60a8\u672c\u6b21\u9884\u8ba2\u53ea\u80fd\u4f7f\u7528 "+
this.allowDays+" \u5f20\u8fd4\u73b0\u5238"):b.addClass("sel")},onOkClick:function(b){b&&b.preventDefault();var d=this,e=[];c("#useCashCouponsView .h5-card-forward a.sel").each(function(b,f){var n=c(f).data("refid"),n=g(n,d.data,"cashCouponsID");e.push(n)});d.app.goToView(d.homeView);c("#useCashCouponsView .h5-frame").hide();d.container.empty();d.app.trigger("onCashCouponsSelected",{view:d,selected:e})}}),z=t.extend({itemTemplate:null,container:null,fldCount:null,data:null,allowDays:0,innId:null,arriveDate:null,
departureDate:null,cityId:null,roomTypeId:null,init:function(c){t.fn.init.call(this,c);this.homeView=c.homeView},initCom:function(){this.itemTemplate=this.itemTemplate=h.template("\x3cli class\x3d'h5-card-forward'\x3e\x3ca href\x3d'javascript:;' data-refid\x3d'#\x3d point#'\x3e\x3cdiv class\x3d'left'\x3e\x3ch4\x3e\u62b5\u73b0\x3c/h4\x3e\x3ch3\x3e\uffe5#\x3d money#\x3c/h3\x3e\x3c/div\x3e\x3cimg style\x3d'max-height: 72px;width:12px;' src\x3d'/image/cashcoupons-bg.png'/\x3e\x3cdiv class\x3d'right'\x3e\x3ch4\x3e\u4f7f\u7528\u79ef\u5206\x3c/h4\x3e\x3ch3\x3e#\x3d point#\x3c/h3\x3e\x3c/div\x3e\x3cb\x3e\x3c/b\x3e\x3c/a\x3e\x3c/li\x3e");
this.container=c("#usePointsView .points-list");this.fldCount=c("#usePointsView span[data-name\x3d'count']");c("#usePointsView a[data-name\x3d'ok']").on("click",l(this.onOkClick,this));p("#usePointsView a")},doLoadView2:function(b,d){v("/html/usePointsView.html",function(e){c("#viewLayout").append(e);b(d)})},historyGoBack:function(c){this.onOkClick(null)},showView:function(c){this.app.trigger("onUsePointsViewShow",{view:this,arg:c});this.loadPoints()},loadPoints:function(){var b=this;b.container.empty();
c("div[data-name\x3d'weekendTip']",b.view).hide();h.ui.progress(b.container,!0);var d="/aq/enablepoints?m\x3d"+Math.random(),d=d+("\x26innId\x3d"+b.innId),d=d+("\x26arriveDate\x3d"+b.arriveDate),d=d+("\x26departureDate\x3d"+b.departureDate),d=d+("\x26cityId\x3d"+b.cityId),d=d+("\x26roomTypeId\x3d"+b.roomTypeId);v(d,function(d){h.ui.progress(b.container,!1);b.data=d;d=h.render(b.itemTemplate,b.data);var e=c("\x3cul style\x3d'padding:0 10px;'\x3e\x3c/ul\x3e");e.append(d);b.container.append(e);b.fldCount.text(b.allowDays);
c("#usePointsView .h5-frame").show();c("#usePointsView .h5-card-forward a").on("click",l(b.pointClick,b))})},pointClick:function(b){b&&b.preventDefault();b=c(b.currentTarget);b.hasClass("sel")?b.removeClass("sel"):0<c("#usePointsView .h5-card-forward a.sel").length?h.ui.showToast("\u60a8\u672c\u6b21\u9884\u8ba2\u53ea\u80fd\u9009\u62e9 \u4e00\u79cd\u62b5\u73b0\u65b9\u5f0f"):b.addClass("sel")},onOkClick:function(b){b&&b.preventDefault();var d=this,e=[];c("#usePointsView .h5-card-forward a.sel").each(function(b,
f){var n=c(f).data("refid"),n=g(n,d.data,"point");e.push(n)});d.app.goToView(d.homeView);c("#usePointsView .h5-frame").hide();d.container.empty();d.app.trigger("onPointsSelected",{view:d,selected:e})}}),H=t.extend({itemTemplate:null,container:null,fldCount:null,data:null,allowDays:0,innId:null,arriveDate:null,departureDate:null,cityId:null,roomTypeId:null,init:function(c){t.fn.init.call(this,c);this.homeView=c.homeView},initCom:function(){this.itemTemplate=this.itemTemplate=h.template("\x3cli class\x3d'h5-card-forward'\x3e\x3ca href\x3d'javascript:;' data-refid\x3d'#\x3d currencyCouponsID#'\x3e\x3cdiv class\x3d'left'\x3e\x3ch4\x3e\u62b5\u7528\u5238\x3c/h4\x3e\x3ch3\x3e\uffe5#\x3d amount#\x3c/h3\x3e\x3c/div\x3e\x3cimg style\x3d'max-height: 72px;width:12px;' src\x3d'/image/vouchers-bg.png'/\x3e\x3cdiv class\x3d'right'\x3e\x3ch4\x3e\u6709\u6548\u671f\x3c/h4\x3e\x3ch3\x3e#\x3d new Date(usedBeginTime).toString('yyyy-MM-dd') #\u81f3#\x3d new Date(usedEndTime).toString('yyyy-MM-dd') #\x3c/h3\x3e\x3c/div\x3e\x3cb\x3e\x3c/b\x3e\x3c/a\x3e\x3c/li\x3e");
this.container=c("#useCurrencyCouponsView .currencycoupons-list");this.fldCount=c("#useCurrencyCouponsView span[data-name\x3d'count']");c("#useCurrencyCouponsView a[data-name\x3d'ok']").on("click",l(this.onOkClick,this));p("#useCurrencyCouponsView a")},doLoadView2:function(b,d){v("/html/useCurrencyCouponsView.html",function(e){c("#viewLayout").append(e);b(d)})},historyGoBack:function(c){this.onOkClick(null)},showView:function(c){this.app.trigger("onUseCurrencyCouponsViewShow",{view:this,arg:c});this.loadCashCoupons()},
loadCashCoupons:function(){var b=this;b.container.empty();k(Date.parse(b.arriveDate),b.allowDays)?c("div[data-name\x3d'weekendTip']",b.view).show():c("div[data-name\x3d'weekendTip']",b.view).hide();h.ui.progress(b.container,!0);var d="/aq/enablecurrencycoupons?m\x3d"+ +Math.random(),d=d+("\x26innId\x3d"+b.innId),d=d+("\x26arriveDate\x3d"+b.arriveDate),d=d+("\x26departureDate\x3d"+b.departureDate),d=d+("\x26cityId\x3d"+b.cityId),d=d+("\x26roomTypeId\x3d"+b.roomTypeId);v(d,function(d){h.ui.progress(b.container,
!1);b.data=d;d=h.render(b.itemTemplate,b.data);var e=c("\x3cul style\x3d'padding:0 10px;'\x3e\x3c/ul\x3e");e.append(d);b.container.append(e);b.fldCount.text(b.allowDays);c("#useCurrencyCouponsView .h5-frame").show();c("#useCurrencyCouponsView .h5-card-forward a").on("click",l(b.cashCouponClick,b))})},cashCouponClick:function(b){b.preventDefault();b=c(b.currentTarget);b.hasClass("sel")?b.removeClass("sel"):c("#useCurrencyCouponsView .h5-card-forward a.sel").length>=this.allowDays?h.ui.showToast("\u60a8\u672c\u6b21\u9884\u8ba2\u53ea\u80fd\u4f7f\u7528 "+
this.allowDays+" \u5f20\u62b5\u7528\u5238"):b.addClass("sel")},onOkClick:function(b){b&&b.preventDefault();var d=this,e=[];c("#useCurrencyCouponsView .h5-card-forward a.sel").each(function(b,f){var n=c(f).data("refid"),n=g(n,d.data,"currencyCouponsID");e.push(n)});d.app.goToView(d.homeView);c("#useCurrencyCouponsView .h5-frame").hide();d.container.empty();d.app.trigger("onCurrencyCouponsSelected",{view:d,selected:e})}}),y,D,F,I=t.extend({showRegister:!1,verificationCode:!1,sendCode:!1,hideWeixinOption:!1,
init:function(c){t.fn.init.call(this,c);c.showRegister&&(this.showRegister=!0);this.homeView=c.homeView},doLoadView2:function(b,d){c.ajax({type:"GET",url:"/login.html",cache:!1,success:function(e){c("#viewLayout").append(e);b(d)}})},initCom:function(){var b=this;0<=b.view.length&&(b.view=c("#login2View"));c("#sel-dynamic",b.view).on("click",l(b.onCutOverModelClick,b));c("#sel-service",b.view).on("click",l(b.onCutOverModelClick,b));c("a[data-name\x3d'get-password']").on("click",l(b.onGetPasswordClick,
b));c("a[data-name\x3d'registry']").on("click",l(b.onGoRegistryClick,b));b.supportckc=c("[data-name\x3d'supportckc']",b.view).val();c("#login2View .h5-checkbox-selectable").on("click",l(b.autoLoginClick,b));c("input[type\x3dtext],input[type\x3dpassword]").on("input",function(){if(0==c(this).val().length)c(this).parent().find(".input-close").remove();else if(!(0<c(this).parent().find(".input-close").length)){var b=30;$parent=c(this).parent();"lgcheckcodewrap"==$parent.attr("data-name")||"dpcheckcodewrap"==
$parent.attr("data-name")?b=232:0<$parent.find("#countdown").length&&0==$parent.find(".h5-button-style1").attr("style").length&&(b=120);c(this).parent().append("\x3cimg class\x3d'input-close' style\x3d'position:absolute;width:20px; right:"+b+"px;top:50%;margin-top:-10px;' src\x3d'../image/input-close.png' /\x3e");c(".input-close").on("click",function(){c(this).parent().find("input[type\x3dtext],input[type\x3dpassword]").val("");c(this).remove()})}});c("input[type\x3dtext],input[type\x3dpassword]").on("blur",
function(){c(this).parent().find(".input-close").css("opacity","0")});c("input[type\x3dtext],input[type\x3dpassword]").on("focus",function(){c(this).parent().find(".input-close").css("opacity","1")});b.hideWeixinOption&&f.hideWeixinOptionMenu();b.showRegister&&c("a[data-name\x3d'registry']",b.view).css("display","inline-block");c("a[data-name\x3d'login']",b.view).on("click",l(b.onLoginClick,b));c('a[data-name\x3d"refreshCheckcode"]',b.view).on("click",function(){c("img[data-name\x3d'imgCheckcode']",
b.view).attr("src","/imageToken?id\x3ddpCheckcode\x26r\x3d"+Math.random())});c('a[data-name\x3d"refreshlCheckcode"]',b.view).on("click",function(){c("img[data-name\x3d'imglCheckcode']",b.view).attr("src","/imageToken?id\x3dlgCheckcode\x26r\x3d"+Math.random())});y=c("#login2View input[data-name\x3d'phone']");D=c("#login2View input[data-name\x3d'password']");F=c("#login2View span[data-name\x3d'memberLabel']");p("#login2View a")},showView:function(b){c("#countdown").next().css("right","120px");c("span#passwordType").text("\u52a8\u6001\u5bc6\u7801");
D.attr("placeholder","\u52a8\u6001\u5bc6\u78015\u5206\u949f\u5185\u6709\u6548");F.text("\u624b\u673a\u53f7\u7801");y.attr("placeholder","");c("a[data-name\x3d'get-password']").show();c("#tc_vcode_img2").is("img")&&(TSOCapObj.init("tc_vcode_img2"),TSOCapObj.refresh());c("#login2View .h5-input").removeClass("h5-error");app.trigger("onLogin2ViewShow",{args:b});this.verificationCode=!1},historyGoBack:function(c){this.app.goToView(this.homeView)},onCutOverModelClick:function(b){b.preventDefault();b=c(b.currentTarget);
b.find(".icons").hasClass("selected")||(c(".h5-login-swith .icons.selected").removeClass("selected"),b.find(".icons").addClass("selected"),"sel-dynamic"==b.attr("id")?(c("#countdown").next().css("right","120px"),c("span#passwordType").text("\u52a8\u6001\u5bc6\u7801"),D.attr("placeholder","\u52a8\u6001\u5bc6\u78015\u5206\u949f\u5185\u6709\u6548"),F.text("\u624b\u673a\u53f7\u7801"),y.attr("placeholder",""),c("a[data-name\x3d'get-password']").show(),c("div[data-name\x3d'dpcheckcodewrap']",this.view).show(),
c("div[data-name\x3d'lgcheckcodewrap']",this.view).hide(),c("img[data-name\x3d'imgCheckcode']",this.view).attr("src","/imageToken?id\x3ddpCheckcode\x26r\x3d"+Math.random()),c("#tc_vcode_img2").is("img")&&(TSOCapObj.init("tc_vcode_img2"),TSOCapObj.refresh())):(c("#countdown").next().css("right","30px"),c("span#passwordType").text("\u4f1a\u5458\u5bc6\u7801"),D.attr("placeholder",""),F.text("7\u5929\u4f1a\u5458"),y.attr("placeholder","7\u5929\u4f1a\u5458\u53f7/\u6ce8\u518c\u624b\u673a\u6216\u8bc1\u4ef6\u53f7"),
c("a[data-name\x3d'get-password']").hide(),c("div[data-name\x3d'lgcheckcodewrap']",this.view).show(),c("div[data-name\x3d'dpcheckcodewrap']",this.view).hide(),c("img[data-name\x3d'imgCheckcode']",this.view).attr("src","/imageToken?id\x3dlgCheckcode\x26r\x3d"+Math.random()),c("#tc_vcode_img").is("img")&&(TSOCapObj.init("tc_vcode_img"),TSOCapObj.refresh())))},onLoginClick:function(b){b.preventDefault();var e=this;c("#login2View .h5-input").removeClass("h5-error");var g=y.val(),k=D.val(),l=c(".h5-login-swith .icons.selected").data("ref"),
p=c("input[name\x3d'ratk']",e.view).val(),m=c("input[data-name\x3d'lCheckCode']",e.view).val();if(0>=s(g).length)y.addClass("h5-error"),0===l?h.ui.showToast("\u8bf7\u8f93\u5165\u4f1a\u5458\u53f7"):h.ui.showToast("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801");else{l=1;try{InsightMethodInvoke("trkLoginBtn",g)}catch(t){}if(1===l&&!e.sendCode)e.errorFlag?h.ui.showToast("\u60a8\u8f93\u5165\u7684\u52a8\u6001\u5bc6\u7801\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"):(h.ui.showToast("\u60a8\u8fd8\u6ca1\u6709\u83b7\u53d6\u52a8\u6001\u5bc6\u7801\uff0c\u8bf7\u5148\u83b7\u53d6\u52a8\u6001\u5bc6\u7801"),
e.errorFlag=!0);else if(0>=s(k).length)D.addClass("h5-error"),h.ui.showToast("\u8bf7\u8f93\u5165\u5bc6\u7801");else if(1!==l||e.checkPhone(g))if(0===l&&"true"==e.supportckc&&0>=s(m))h.ui.showToast("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");else{var q=h.cookie("WX_OPENID");"null"==q&&(q=null);var u=h.cookie("YX_OPENID");"null"==u&&(u=null);0===l&&c("#tc_vcode_img").is("img")?0>=s(m)?h.ui.showToast("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"):TSOCapObj.verify(m,function(b){0!=b.errorCode?(f.showMessageWindow(null,
"\x3cspan\x3e\u9a8c\u8bc1\u7801\u9519\u8bef\x3c/span\x3e"),TSOCapObj.refresh()):(m=b.ticket,h.ui.showTips("\u6b63\u5728\u767b\u5f55...."),c.ajax({type:"POST",url:"/ajax_authentication?"+Math.random(),data:{username:g,password:k,atk:p,lgCheckcode:c.trim(m+" "),openid:q,yxopenid:u,j_expiredays:c("#login2View .h5-checkbox-selectable").hasClass("h5-checked")?7:0,passwordType:l},success:function(b){h.ui.hideTips();if("success"==b.result){try{InsightMethodInvoke("trkLoginError",g)}catch(n){}var k=c("#login2View .h5-checkbox-selectable").hasClass("h5-checked"),
C=null;-1<location.hostname.indexOf("plateno")?C=".plateno.com":-1<location.hostname.indexOf("7daysinn")&&(C=".7daysinn.cn");Date.prototype.DateFormat||(Date.prototype.DateFormat=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)RegExp("("+d+")").test(b)&&
(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b});h.cookie("loginStatus",(new Date).DateFormat("yyyy-MM-dd hh:mm:ss")+"|"+k,{path:"/",domain:C});var m=b.redirectUrl;b.msg?d("","\x3cspan\x3e"+b.msg+"\x3c/span\x3e",function(){h.ui.hideWindow();e.loginSuccess(m)}):e.loginSuccess(m);e.sendCode=!1}else{c("#tc_vcode_img").is("img")||c("#tc_vcode_img2").is("img")?TSOCapObj.refresh():e.supportckc&&c("img[data-name\x3d'imglCheckcode']",e.view).attr("src","/imageToken?id\x3dlgCheckcode\x26r\x3d"+
Math.random());k=null;k=b.message?b.message:0===l?"\u60a8\u8f93\u5165\u7684\u7528\u6237\u540d\u6216\u5bc6\u7801\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":"\u60a8\u8f93\u5165\u52a8\u6001\u5bc6\u7801\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";f.showMessageWindow(null,"\x3cspan\x3e"+k+"\x3c/span\x3e");try{InsightMethodInvoke("trkLoginError",g,k)}catch(p){}y.focus()}},dataType:"json"}))}):(h.ui.showTips("\u6b63\u5728\u767b\u5f55...."),c.ajax({type:"POST",url:"/ajax_authentication?"+
Math.random(),data:{username:g,password:k,atk:p,lgCheckcode:c.trim(m+" "),openid:q,yxopenid:u,j_expiredays:c("#login2View .h5-checkbox-selectable").hasClass("h5-checked")?7:0,passwordType:l},success:function(b){h.ui.hideTips();if("success"==b.result){try{InsightMethodInvoke("trkLoginError",g)}catch(n){}var k=c("#login2View .h5-checkbox-selectable").hasClass("h5-checked"),C=null;-1<location.hostname.indexOf("plateno")?C=".plateno.com":-1<location.hostname.indexOf("7daysinn")&&(C=".7daysinn.cn");Date.prototype.DateFormat||
(Date.prototype.DateFormat=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b});h.cookie("loginStatus",(new Date).DateFormat("yyyy-MM-dd hh:mm:ss")+
"|"+k,{path:"/",domain:C});var m=b.redirectUrl;b.msg?d("","\x3cspan\x3e"+b.msg+"\x3c/span\x3e",function(){h.ui.hideWindow();e.loginSuccess(m)}):e.loginSuccess(m);e.sendCode=!1}else{e.supportckc&&c("img[data-name\x3d'imglCheckcode']",e.view).attr("src","/imageToken?id\x3dlgCheckcode\x26r\x3d"+Math.random());k=null;k=b.message?b.message:0===l?"\u60a8\u8f93\u5165\u7684\u7528\u6237\u540d\u6216\u5bc6\u7801\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":"\u60a8\u8f93\u5165\u52a8\u6001\u5bc6\u7801\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";
f.showMessageWindow(null,"\x3cspan\x3e"+k+"\x3c/span\x3e");try{InsightMethodInvoke("trkLoginError",g,k)}catch(p){}y.focus()}},dataType:"json"}))}}},onGetPasswordClick:function(b){var d=this,e=y.val();if(!d.verificationCode&&(c("#login2View .h5-input").removeClass("h5-error"),d.checkPhone(e))){var g=c("input[data-name\x3d'dpCheckCode']",d.view).val();if(0>=s(g).length)h.ui.showToast("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");else{try{InsightMethodInvoke("trkLoginSMS",e)}catch(k){}c("#tc_vcode_img2").is("img")?
TSOCapObj.verify(g,function(b){0!=b.errorCode?(f.showMessageWindow(null,"\x3cspan\x3e\u9a8c\u8bc1\u7801\u9519\u8bef\x3c/span\x3e"),TSOCapObj.refresh()):(g=b.ticket,h.ui.showTips("\u6b63\u5728\u7533\u8bf7\u52a8\u6001\u5bc6\u7801..."),c.ajax({type:"POST",url:"/s/sendverificationcodebyqcloud?checkcode\x3d"+g+"\x26mobile\x3d"+e+"\x26a\x3d"+Math.random(),success:function(b){h.ui.hideTips();"success"==b.result?(d.sendCode=!0,d.verificationCode=!0,f.showWindow("\x3cspan\x3e\u52a8\u6001\u5bc6\u7801\u5df2\u53d1\u9001\u5230\u60a8\u7684\u624b\u673a\u4e0a\uff0c\u6ce8\u610f\u67e5\u6536\x3c/span\x3e",
{title:"\u6210\u529f",width:280,height:48,modal:!0,closeCallback:d.countDown,actions:[{name:"\u786e\u5b9a",callback:function(){h.ui.hideWindow();d.countDown()}}]})):f.showMessageWindow("\u5931\u8d25","\x3cspan\x3e"+b.message+"\x3c/span\x3e")},dataType:"json"}))}):(h.ui.showTips("\u6b63\u5728\u7533\u8bf7\u52a8\u6001\u5bc6\u7801..."),c.ajax({type:"POST",url:"/s/sendverificationcode?checkcode\x3d"+g+"\x26mobile\x3d"+e+"\x26a\x3d"+Math.random(),success:function(b){h.ui.hideTips();"success"==b.result?
(d.sendCode=!0,d.verificationCode=!0,f.showWindow("\x3cspan\x3e\u52a8\u6001\u5bc6\u7801\u5df2\u53d1\u9001\u5230\u60a8\u7684\u624b\u673a\u4e0a\uff0c\u6ce8\u610f\u67e5\u6536\x3c/span\x3e",{title:"\u6210\u529f",width:280,height:48,modal:!0,closeCallback:d.countDown,actions:[{name:"\u786e\u5b9a",callback:function(){h.ui.hideWindow();d.countDown()}}]})):f.showMessageWindow("\u5931\u8d25","\x3cspan\x3e"+b.message+"\x3c/span\x3e")},dataType:"json"}))}}},countDown:function(){var b=this;c("a[data-name\x3d'get-password']",
b.veiw).hide();c("span#countdown",b.view).show();var d=60,e=setInterval(function(){0<d?(d--,c("span[data-name\x3d'time-show']",b.view).text(d)):(clearInterval(e),b.verificationCode=!1,c("span[data-name\x3d'time-show']",b.view).text("60"),c("span#countdown",b.view).hide(),c("a[data-name\x3d'get-password']",b.view).show())},1E3)},checkPhone:function(b){return 0>=s(b).length?(y.addClass("h5-error"),h.ui.showToast("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"),!1):f.phoneReg.test(b)?!0:(y.addClass("h5-error"),
h.ui.showToast("\u60a8\u8f93\u5165\u7684\u624b\u673a\u53f7\u7801\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),!1)},autoLoginClick:function(b){c(b.currentTarget).toggleClass("h5-checked")},loginSuccess:function(b){var c=h.getHashes();b?window.location=b:c&&(c.redirectUrl||c.redirect)?(b=c.redirectUrl?c.redirectUrl:c.redirect?c.redirect:"","gift77"==c.redirectUrl?(this.app.one("onRetrieveMemberInfo",this.gift77Redirect),f.getMemberInfo(!0)):(c=decodeURIComponent(b),window.location.href=c)):
(f.islogin=!0,app.trigger("onLoginSuccess",{}),f.getMemberInfo(!0),this.app.goToView(this.homeView))},gift77Redirect:function(b){(b=b[0].memberInfo)&&0<b.memberId&&(b.gift77.canApply?window.location="/activities/index#view\x3dgift77":b.gift77.gift?window.location=b.gift77.gift.flag==f.GIFT_UNUSED?"/index#view\x3dhome\x26mode\x3d77":b.gift77.gift.flag==f.GIFT_DEACTIVED?"/activities/index#view\x3dgift77":"/index#view\x3dhome":b.validMobile||(window.location="/activities/index#view\x3dgift77"))},doBindWeixin:function(b,
e,f){b&&0<b.memberId&&b.weixinBinded?f&&f.call():c.ajax({type:"POST",url:"/p/weixin/bindCurrentUser",data:{openid:e},success:function(b){"success"==b.result?d("","\x3cspan\x3e\u60a8\u7684\u5fae\u4fe1\u53f7\u5df2\u7ecf\u7ed1\u5b9a\u5230\u60a8\u76847\u5929\u8d26\u6237\u3002\x3c/span\x3e",bindFinishedCall):h.ui.showWindow("\x3cspan\x3e7\u5929\u4f1a\u5458\u5fae\u4fe1\u53f7\u7ed1\u5b9a\u5931\u8d25\u3002\u60a8\u662f\u5426\u672a\u5173\u6ce8\u201c7\u5929\u4f1a\u201d\u5fae\u4fe1\uff1f\x3c/span\x3e",{title:"\u63d0\u793a",
width:280,height:80,modal:!0,actions:[{name:"\u786e\u5b9a",callback:function(){h.ui.hideWindow();f&&f.call()}}]})},dataType:"json"})},onGoRegistryClick:function(b){b=h.getHashes();window.location=b&&(b.redirectUrl||b.redirect)?"/register/index#view\x3dregister\x26redirect\x3d"+(b.redirectUrl?b.redirectUrl:b.redirect?b.redirect:"")+(b.jump?"\x26jump\x3dtrue":"")+(b.sellerId?"\x26sellerId\x3d"+b.sellerId:""):"/register/index#view\x3dregister"}}),J=t.extend({innId:null,canShow:!1,init:function(b){t.fn.init.call(this,
b);this.homeView=b.homeView},doLoadView2:function(b,d){v("/html/innComment.html",function(e){c("#viewLayout").append(e);b(d)})},initCom:function(){var b=this;c("a[data-name\x3d'loadMore']",b.view).on("click",l(b.loadMoreCommentsData,b));c("#innCommentView a[data-name\x3d'return']").on("click",function(c){b.app.goToView(b.homeView)});c("#innCommentView div.get-more").hide();p("#innCommentView a")},showView:function(b){var d=this;d.data=[];app.trigger("onInnCommentViewShow",{view:d,args:b});c("#innCommentView #all-comment-container").empty();
c("#innCommentView div.get-more").hide();setTimeout(function(){d.loadMoreCommentsData()},100)},unloadView:function(b){c("#innCommentView div.get-more").hide();c("#innCommentView #all-comment-container").empty();app.trigger("onInnCommentViewUnload",{view:this,args:b})},checkView:function(b){var c=this;return c.canShow?!0:function(b){c.app.goToView(c.homeView)}},historyGoBack:function(b){this.app.goToView(this.homeView)},loadMoreCommentsData:function(){var b=this,d=1,e=h.getHashes();if(e&&e.innId){var g=
c("#innCommentView #all-comment-container");0<b.data.length&&(d=b.data[b.data.length-1].number+1);h.ui.progress(c("#innCommentView .view-progress"),!0);c.getJSON("/q/inn/comments/"+e.innId+"?page\x3d"+d+" \x26size\x3d10",function(d){h.ui.hideTips();b.data.push(d);if(0==d.totalElements)g.text("\u6b64\u5206\u5e97\u8fd8\u6ca1\u6709\u8bc4\u8bba\u54e6\u3002"),c("#innCommentView div.get-more").hide();else{var e=h.render(f.commentItemTemplate,d.content),k=c(".h5-list",g);k.length?k.append(e):(k=c("\x3cul class\x3d'h5-list'\x3e\x3c/ul\x3e"),
k.append(e),g.append(k));c("#innCommentView .view-progress").empty();d.lastPage?c("#innCommentView div.get-more").hide():c("#innCommentView div.get-more").show()}})}}}),K=t.extend({doLoadView2:function(b,d){v("/html/appErrorView.html",function(e){c("#viewLayout").append(e);b(d)})},initCom:function(){c("#appErrorView a[data-name\x3d'return-home']").bind("click",l(this.onGoToHomeViewClick,this));p("#appErrorView a")},onGoToHomeViewClick:function(b){window.location="/index#view\x3dhome"}});m(f,{islogin:!1,
datePickView:x,hideWeixinOptionMenu:function(){var b=function(){WeixinJSBridge.invoke("hideOptionMenu",{},function(b){callback(b)})};"undefined"===typeof WeixinJSBridge?document.addEventListener("WeixinJSBridgeReady",b,!1):b()},login2View:I,useCashCouponsView:q,usePointsView:z,useCurrencyCouponsView:H,innCommentView:J,appErrorView:K,showMessageWindow:d,toggleItemActiveClass:function(b){c(b.currentTarget).toggleClass("h5-state-active",b.type===G)},getCurrentTime:e,filterObject:g,getMemberInfo:function(b,
d,e){b||!B?(B=!0,c.getJSON("/q/memberinfo?"+Math.random(),function(b){f.memberInfo=b;f.islogin=!1;0<f.memberInfo.memberId&&(f.islogin=!0);f.app&&f.app.trigger("onRetrieveMemberInfo",{memberInfo:f.memberInfo,islogin:f.islogin});c.isFunction(d)&&(e?d.call(e,b):d(b));0<f.memberInfo.memberId&&(b=null,-1<location.hostname.indexOf("plateno")?b=".plateno.com":-1<location.hostname.indexOf("7daysinn")&&(b=".7daysinn.cn"),h.cookie("user",f.memberInfo.memberId+"|"+f.memberInfo.memberType,{expires:365,path:"/",
domain:b}))})):(f.app&&null!=f.memberInfo&&f.app.trigger("onRetrieveMemberInfo",{memberInfo:f.memberInfo,islogin:f.islogin}),c.isFunction(d)&&(e?d.call(e,f.memberInfo):d(f.memberInfo)))},getSearchBottonTitle:function(c){return""===s(c)||c===f.BOOKING_MODE_NORMAL?"\u641c\u7d22":b(c)},isMarketActivityBooking:function(b){return b==f.BOOKING_MODE_77||b==f.BOOKING_MODE_88||b==f.BOOKING_MODE_99||b==f.BOOKING_MODE_FREE_ROOM||b==f.BOOKING_MODE_POINT||b==f.BOOKING_MODE_138||b==f.BOOKING_MODE_100||b==f.BOOKING_MODE_94||
b==f.BOOKING_MODE_178||b==f.BOOKING_MODE_202||b==f.BOOKING_MODE_204||b==f.BOOKING_MODE_P2000||b==f.BOOKING_MODE_P5000||b==f.BOOKING_MODE_P7000||b==f.BOOKING_MODE_P10000||b==f.BOOKING_MODE_TUAN77||b==f.BOOKING_MODE_TUAN99||b==f.BOOKING_MODE_FREE||b==f.BOOKING_MODE_777},getMarketActivityName:b,isNull:function(b){var d=!0;b&&(b=c.trim(b),0<b.length&&(d=!1));return d},substr:function(b,c){var d=0,e=0;str_cut="";for(var e=b.length,f=0;f<e;f++)if(a=b.charAt(f),d++,4<escape(a).length&&d++,str_cut=str_cut.concat(a),
d>=c)return str_cut=str_cut.concat("...");if(d<c)return b},checkBooingDate:function(b){var c=f.getCurrentTime(!0);c.getHours()<f.hourSeparator&&c.addDays(-1);var c=c.clearTime(),d=new Date(c.getTime());d.addDays(90);var e=Date.parse(b.arriveDate);b=Date.parse(b.departureDate);return e>=b||e<c||b>=d?(h.ui.showToast("\u8ba2\u623f\u65f6\u95f4\u8d85\u51fa\u4e86\u8303\u56f4\u3002"),!1):!0},scrollTop:function(){setTimeout(function(){document.body.scrollTop=0},100)},setBookParam:function(b){this.bookParam=
b;w.setItem("h5app","webh5v2_book_param",JSON.stringify(b))},getBookParam:function(){null==this.bookParam&&(this.bookParam=h.parseJson(w.getItem("h5app","webh5v2_book_param")));return this.bookParam},setLastRoomCount:function(b){w.setItem("h5app","webh5v2_book_roomCount",b)},getLastRoomCount:function(){return w.getItem("h5app","webh5v2_book_roomCount")},initiaizeViewParamWithHash:function(b){var c=this.getBookParam(),d=h.getHashes();if(null==c||"innDtl"===b&&null==c.innInfo||c.innInfo&&d&&d.innId&&
c.innInfo.innId!=d.innId||d&&d.cityId&&c.cityId!=d.cityId||d&&d.longitude&&d.latitude||d&&d.suggestInns||d&&d.brands||d&&d.fromDate&&d.fromDate!=c.arriveDate||d&&d.toDate&&d.toDate!=c.departureDate){console.log("Create");c={};c.bookingMode=f.BOOKING_MODE_NORMAL;d&&d.innId&&(c.innInfo={innId:d.innId});d&&d.cityId&&(c.cityId=d.cityId,c.districtId=0);d&&d.filterBySaleActivity&&(c.filterBySaleActivity=!0);d&&d.longitude&&(c.longitude=d.longitude,c.latitude=d.latitude,c.cityId=0,c.loc=!0);d&&d.suggestInns&&
(c.cityId=0,c.suggestInns=!0);d&&d.brands&&(c.brands=d.brands);b=e(!0);b.getHours()<f.hourSeparator&&b.addDays(-1);b=b.clearTime();var g=null,k=null;d&&d.fromDate&&(g=Date.parse(d.fromDate,"yyyy-MM-dd"));if(null==g||g<b)g=b;d&&d.toDate&&(k=Date.parse(d.toDate,"yyyy-MM-dd"));if(null==k||k<=g)k=g.clone().addDays(1);c.arriveDate=g.toString("yyyy-MM-dd");c.departureDate=k.toString("yyyy-MM-dd");c.days=(k-g)/864E5;c.nohandleback=!0;c.fromgift=d.fromgift;this.setBookParam(c)}else b=e(!0),b.getHours()<f.hourSeparator&&
b.addDays(-1),b=b.clearTime(),g=Date.parse(c.arriveDate,"yyyy-MM-dd"),g<b&&(g=b,k=g.clone().addDays(1),c.arriveDate=g.toString("yyyy-MM-dd"),c.departureDate=k.toString("yyyy-MM-dd"),c.days=1);d&&d.sellerId&&(c.sellerId=d.sellerId);return c},showWindow:function(b,d){var e=c("div.h5-window"),g=d.closeCallback;0==e.length&&(e=c("\x3cdiv class\x3d'h5-window' style\x3d'position:absolute;'\x3e\x3cdiv class\x3d'h5-window-title'\x3e\x3cspan class\x3d'title'\x3e\x3c/span\x3e\x3ca href\x3d'javascript:;' class\x3d'close'\x3e\x3cspan class\x3d'icon icon-close close'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'h5-window-content'\x3e\x3c/div\x3e\x3cdiv class\x3d'h5-window-bottom'\x3e\x3cdiv class\x3d'h5-window-buttons'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e").appendTo(c("body")),
c("a.close",e).bind("click",function(){f.hideWindow();c.isFunction(g)&&g()}));var k=c(window).scrollTop(),l=d&&d.width?d.width:320,m=d&&d.height?d.height:80,p=l+14,q=m+(d&&d.actions?80:40),k=k+(c(window).height()-q)/2,s=0+(c(window).width()-p)/2;c("div.h5-window-content",e).css({width:l+"px",height:m+"px"});d&&d.title&&c("span.title",e).text(d.title);c("div.h5-window-content",e).html(c(b));c("div.h5-window-buttons",e).empty();d&&d.actions&&c.each(d.actions,function(){var b=c("\x3ca href\x3d'javascript:;' class\x3d'h5-button' style\x3d'margin-right:.5em;font-size:.8em;"+
(this.style?this.style:"")+"'\x3e"+this.name+"\x3c/a\x3e");b.bind("click",this.callback);c("div.h5-window-buttons",e).append(b)});d.modal&&h.ui._overlay(!0,e);e.css({width:p+"px",height:q+"px",top:k+"px",left:s+"px"}).show()},hideWindow:function(){h.ui._overlay(!1,c("div.h5-window"));c("div.h5-window").hide()},formatDate:function(b){var c=new Date;c.setTime(b);return c.toString("yyyy-MM-dd")},goDownloadApp:function(){c.os.android||c.os.kindle?window.location="/app/download?type\x3dandroid":c.os.ipad||
c.os.iphone?window.location="/app/download?type\x3dios":f.showWindow("\x3cspan\x3e\u8bf7\u9009\u62e9\u4f60\u8981\u4e0b\u8f7d\u7684\u5ba2\u6237\u7aef\u7c7b\u578b\u3002\x3c/span\x3e",{title:"\u4e0b\u8f7d",width:280,height:48,modal:!0,actions:[{name:"Android\u5ba2\u6237\u7aef",callback:function(){f.hideWindow();window.location="/app/download?type\x3dandroid"}},{name:"IOS\u5ba2\u6237\u7aef",callback:function(){f.hideWindow();window.location="/app/download?type\x3dios"}}]})},checkPassword:function(b){if(18<
b.length)return 0;var c=0;b.match(/[a-zA-Z]/ig)&&c++;b.match(/[0-9]/ig)&&c++;b.match(/(.[^A-Za-z0-9])/ig)&&c++;6>b.length&&0<c&&c--;return c}})})();